@model HaloCareCore.Models.ClinicalViewModel
@using HaloCareCore.Extensions
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{
    ViewBag.Title = "Clinical";
    Layout = "~/Views/Shared/_LayoutMember.cshtml";
}

<comment>
    <!--
        14 February 2019 -- HCare-607 (Halocare Bestmed Diabetes enrollment questionnaire)
        Added Diagnosis collapseable in order to Create, Edit and View diagnosis entries - BM

        15 February 2109 -- HCare-607
        * Added View function to ALL collapseables in the Patient Clinical/Patient History tab to allow the user to view the full details of the entry - BM
        * Tested NEW Diabetes Questionnaire functions (Yes / No /Follow up / validations)

        18 February 2109 -- HCare-607
        * Tested Diabetes Questionnaire functions (Yes / No /Follow up / validations) on BOTH new and old Diabetes Questionnaire
        * Updating frontend for comments fields to show X when 'None' is inserted as well as matching text alignment and changing NULL dates to "-" etc.

        06 March 2019 -- HCare-607
        Additions to the SR have been made, removing Disclaimer, spelling in the questionnaire and Patient History update. I have corrected and tested the patient history containers that poplulate
        an attachment and follow up icon based on the questionnaire submit.

        29 April 2019 -- HCare-711 (Patient Clinical (Patient pathology front end))
        Arranged  and matched the columns for the patient pathology as per the SR HCare-711

        02 May 2019 -- HCare-25 (Patient Clinical - Hospitalisation collapsable)
        Frontend update made in order to not show follow up if Date is Null.

        12 July 2019 -- HCare-753(Add amputation checkbox to front view)
        Added Amputation check to the table on patient clinical/patient history/Amputation tab

        26 September 2019 -- HCare-820(UI ~ Pathology table)
        Corrected the display for eGFR as well as remove the zeros from the table in the patient clinical view.

        06 November 2019 -- HCare-828(Patient Clinical Summary)
        Remove spaces between headings on the summary page as per request.

        25 November 2019 -- HCare-892(Inactivate medication entry from Patient history)
        Added edit button to Medication entry which allows the user to update the Note, Comment and active status.

        06 December 2019 -- HCare-851(LINKED TO HCARE-134: Module 3 - Pathology Display (Related to HCare-837 & HCare-834))

    -->
</comment>
<style>
    html {
        visibility: hidden;
    }

    body {
        background-color: #f9f9fc !important;
    }

    #plusSubmit {
        position: relative;
        z-index: 1;
        left: -25px;
        top: 1px;
        color: #7B7B7B;
        cursor: pointer;
        width: 0;
    }

    .filterable {
        margin-top: 15px;
    }

        .filterable .panel-heading .pull-right {
            margin-top: -20px;
        }

        .filterable .filters input[disabled] {
            background-color: transparent;
            border: none;
            cursor: auto;
            box-shadow: none;
            padding: 0;
            height: auto;
        }

        .filterable .filters::-webkit-input-placeholder {
            color: #ccc !important;
        }

        .filterable .filters::-moz-placeholder {
            color: #ccc !important;
        }

        .filterable .filters:-ms-input-placeholder {
            color: #ccc !important;
        }

    .reset:hover {
        cursor: pointer;
        background: -webkit-linear-gradient(#e80a89, #f15b2a);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .isDisabled {
        color: currentColor;
        cursor: no-drop !important;
        opacity: 0.5;
        text-decoration: none;
    }
</style>

<!--dateSort_JQ-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
<script src="https://www.jqueryscript.net/demo/jQuery-Plugin-For-Sortable-Bootstrap-Tables-Bootstrap-Sortable/Scripts/bootstrap-sortable.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<!--pageHeader-->
<nav id="global-nav" class="nav" style="z-index: 10000">
    <div class="pull-left title">
        <h1 class="site-title_patientProfile">
            <span><i class="fas fa-file-medical-alt"></i>&emsp; Patient clinical</span>
        </h1>
    </div>
    <div class="pull-right title">
        <h1 class="site-title_userID pull-right">
            <div class="halocareLogo"><img src="~/Content/Images/Navigation/navBarIcons/haloCare_White.png" /></div>
        </h1>
        <h1 class="site-title_userID pull-right">
            @if (HttpContextAccessor.HttpContext.Session.GetString("Init") != null)
            {
                <span href="#" id="userMenu-toggle"><span class="initials_Avatar" style="color: white!important; font-size: 16px">@HttpContextAccessor.HttpContext.Session.GetString("Init").ToString() </span></span>
            }
        </h1>
        <h1 class="site-waffleIcon pull-right">
            <span href="#" id="patientMenu-toggle"><span class="waffleIcon" style="color: white!important; font-size: 12px"><i class="fas fa-th"></i></span></span>
        </h1>
    </div>
</nav>

<div class="dashboardContainer zero-padding">
    <div class="patientDashboard_View">

        <!--breadCrumbs-->
        <ul class="breadcrumbs_patientDashboard">
            <li style="font-size: 12px; color: #0081b3; font-weight: 200">You are here:</li>
            <li><a href="@Url.Action("Index", "Home", new {})">Home</a></li>
            <li><a href="@Url.Action("patientDashboard", "Member", new { DependentID = Context.Request.Query["DependentID"], pro = Context.Request.Query["pro"]})">Patient</a></li>
            <li><a href="#">Clinical</a></li>
        </ul>

        <!--Left navSlider -->
        @Html.Partial("_navSlider", new { DependentID = Context.Request.Query["DependentID"], pro = Context.Request.Query["pro"] })

        <!--navCollection-->
        <div class="navCollection_patientDashboard">
            @Html.Partial("_navCollection")
        </div>

        <!--profileInformation-->
        <div class="profileBar">
            @Html.Action("_profileBar_edit", "Member", new { DependentID = Context.Request.Query["DependentID"] , pro = Context.Request.Query["pro"]})
        </div>
    </div>

    <div class="profilebar-spacer"></div>
    <div class="patientDashboard_container">
        <h4 class="summaryHeading">Patient clinical</h4>
        <hr class="patientProfile_Ruler" />
        <div class="tabs" style="margin-left: 0.5%">
            <!--summary-->
            <div class="tab-5">
                <label for="tab5-1">Summary</label>
                <input id="tab5-1" name="tabs-three" type="radio" checked="checked">

                <div class="row tablinks">
                    <!--Pathology Details-->
                    <div class="form-horizontal" style="width: 150%">
                        <h4 class="subHeading">Pathology details</h4>
                        <hr class="patientProfile_Ruler" />

                        <div class="row">
                            <!--Pathology Details-->
                            <div class="clinicalSummary">
                                <div class="row">
                                    <table class="table patientCommunication_profileTable" id="noteTable" style="margin-bottom: 1.5%!important">
                                        <tr>
                                            <th style="width: 25%">
                                                @Html.DisplayName("Next pathology due")
                                            </th>
                                            <th style="width: 25%">
                                                @Html.DisplayName("Last pathology")
                                            </th>
                                            <th onclick="sortTable(0)" style="width: 25%">
                                                @Html.DisplayName("Outstanding") <i class="fa fa-fw fa-sort"></i>
                                            </th>
                                            <th onclick="sortTable(0)" style="width: 25%; text-align: center!important">
                                                @Html.DisplayName("Pathology due")
                                            </th>
                                        </tr>
                                        <tr>
                                            <td style="color: rgba(204, 0, 0, 0.70)!important; font-weight: bold!important">
                                                @Html.DisplayFor(model => model.nextPathologyDate)
                                            </td>
                                            <td style="color: rgba(204, 0, 0, 0.70)!important; font-weight: bold!important">
                                                @Html.DisplayFor(model => model.lastPathologyDate)
                                            </td>
                                            <td style="color: rgba(204, 0, 0, 0.70)!important; font-weight: bold!important">
                                                @Html.DisplayFor(model => model.pathologyBehind) days
                                            </td>
                                            <td class="clinicalCheck">

                                                @if (Model.isPathologyDue)
                                                {
                                                    <img src="~/Content/Images/Navigation/5. Reports/reportCheck.png" style="width: 5%; margin-left: 50%!important" />
                                                }
                                                else
                                                {
                                                    <img src="~/Content/Images/Navigation/5. Reports/reportCheck_x.png" style="width: 5%; margin-left: 50%!important" />
                                                }

                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <h4 class="subHeading">Clinical rules</h4>
                            <hr class="patientProfile_Ruler" />
                            <!--Clinical Rules-->
                            <div class="col-md-12">
                                <table class="table patientCommunication_profileTable sortable" id="clinicalRuletable" style="width: 101%!important; margin-bottom: 1.5%!important">
                                    <thead>
                                        <tr>
                                            <th style="width: 10%">
                                                @Html.DisplayNameFor(model => model.rulesBroken[0].effectiveDate) <i class="fa fa-fw fa-sort"></i>
                                            </th>
                                            <th onclick="clinicalRuletable(0)" style="width: 45%">
                                                @Html.DisplayNameFor(model => model.rulesBroken[0].ruleName) <i class="fa fa-fw fa-sort"></i>
                                            </th>
                                            <th style="width: 45%">
                                                @Html.DisplayNameFor(model => model.rulesBroken[0].messages)
                                            </th>
                                        </tr>
                                    </thead>

                                    @if (Model.rulesBroken.Count() == 0)
                                    {
                                        <tr><td colspan="3" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                    }
                                    else
                                    {
                                        foreach (var item in Model.rulesBroken)
                                        {
                                            <tbody>
                                                <tr>
                                                    <td data-dateformat="DD-MM-YYYY">
                                                        @Html.DisplayFor(modelItem => item.effectiveDate)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.ruleName)
                                                    </td>
                                                    <td data-value="0">
                                                        @foreach (var message in item.messages)
                                                        {
                                                            @Html.DisplayFor(messageItem => message.instruction)<br />
                                                        }
                                                    </td>
                                                </tr>
                                            </tbody>
                                        }
                                    }

                                </table>
                            </div>
                            <h4 class="subHeading">Risk Rating</h4>

                            @if (User.HasRole("4. Advisor") || (User.HasRole("5. Super user")))
                            {
                                <div class="actionButton" style="margin-top: 2.5%!important; margin-bottom: 4%!important; margin-left: -4.4%!important;">
                                    <input class="newPathology" value="Create new " onclick="location.href='@Url.Action("CreateRiskRating", "Member", new { DependentID = Model.DependentID}, null)'" style="width: 10%!important" />
                                </div>

                                <div class="addPathology" style="margin-left: 0.5%; margin-bottom: -1%!important">
                                    <a href="@Url.Action("CreateRiskRating", "Member", new { DependentID = Model.DependentID })">
                                        <i class="material-icons" id="icon" title="New pathology">
                                            add_circle_outline
                                        </i>
                                    </a>
                                </div>
                            }
                            <hr class="patientProfile_Ruler" />
                            <!--Risk rating-->
                            <div class="col-md-12">
                                <table class="table patientCommunication_profileTable sortable" id="clinicalRuletable" style="width: 101%!important">
                                    <thead>
                                        <tr>
                                            <th style="width: 10%">
                                                @Html.DisplayName("Effective Date") <i class="fa fa-fw fa-sort"></i>
                                            </th>
                                            <th onclick="clinicalRuletable(0)" style="width: 45%">
                                                @Html.DisplayName("Risk Rating") <i class="fa fa-fw fa-sort"></i>
                                            </th>
                                            <th style="width: 45%">
                                                @Html.DisplayName("Reason")
                                            </th>
                                        </tr>
                                    </thead>

                                    @if (Model.RiskRating.Count() == 0)
                                    {
                                        <tr><td colspan="3" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                    }
                                    else
                                    {
                                        foreach (var item in Model.RiskRating)
                                        {
                                            <tbody>
                                                <tr>
                                                    <td data-dateformat="DD-MM-YYYY">
                                                        @Html.DisplayFor(modelItem => item.effectiveDate)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.RiskId)
                                                    </td>
                                                    <td data-value="0">
                                                        @Html.DisplayFor(modelItem => item.reason)
                                                    </td>
                                                </tr>
                                            </tbody>
                                        }
                                    }

                                </table>
                            </div>
                            <!--Collapse-->
                            <div class="row col-md-12">
                                <div class="showCollapse">
                                    <a data-toggle="collapse" href="#clinicalCollapse" aria-expanded="false" input type="button" class="btn buttonRound_formCreate">Full Details</a>
                                </div>

                                <div class="collapse" id="clinicalCollapse">
                                    <div style="margin-bottom: 5%!important"></div>
                                    <div class="contentBlock_fullDetailsPC">
                                        <div class="row" style="text-align:center">

                                            <h4 style="color: #003366; margin-top: 1%; margin-left: 2%; margin-bottom: 1%!important; font-size: 18px; font-family: 'Century Gothic'; font-weight: 300; font-style: normal;">Patient Treatment Details</h4>
                                            <hr class="fancyruler">
                                            <h4 style="color: #003366; margin-top: 0%; margin-left: 2%; margin-bottom: 0%!important; font-size: 16px; font-family: 'Century Gothic'; font-weight: 300; font-style: normal;">Last Order Details</h4>
                                            <hr class="fancyruler">
                                        </div>
                                        <br />

                                        <!--Full Details / Last Order Details-->

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Has Claimed Before
                                            </div>
                                            <div class="col-md-3">
                                                unavailable
                                            </div>
                                            <div class="col-md-3">
                                                Date Due for Reorder
                                            </div>
                                            <div class="col-md-3">
                                                unavailable
                                            </div>
                                        </div>

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Last Claim Date
                                            </div>
                                            <div class="col-md-3">
                                                unavailable
                                            </div>
                                            <div class="col-md-3">
                                                Has Open Assignment
                                            </div>
                                            <div class="col-md-3">
                                                yes/no
                                            </div>
                                        </div>

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Due for Reorder
                                            </div>
                                            <div class="col-md-3">
                                                unavailable
                                            </div>
                                        </div>
                                        <div class="row"></div>
                                        <br />
                                        <hr class="fancyruler">

                                        <!--Full Details / Script Details-->
                                        <div style="text-align:center">
                                            <h4 style="color: #003366; margin-top: 0%; margin-left: 2%; margin-bottom: 0%!important; font-size: 16px; font-family: 'Century Gothic'; font-weight: 300; font-style: normal;">Script Details</h4>
                                            <hr class="fancyruler">
                                        </div>
                                        <br />

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Patient has a script
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.hasScript)
                                            </div>
                                            <div class="col-md-3">
                                                Patient script outstanding
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.requiresNewScript)
                                            </div>
                                        </div>

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Patient last script effective date
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.scriptEffectiveDate)
                                            </div>
                                            <div class="col-md-3">
                                                Patient effective script date time created
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.scriptEffectiveDate)
                                            </div>
                                        </div>

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Patient effective script repeats
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.scriptRepeats)
                                            </div>
                                            <div class="col-md-3">
                                                Patient effective script created by
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.scriptCreatedBy)
                                            </div>
                                        </div>

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Number of orders on current script
                                            </div>
                                            <div class="col-md-3">
                                                unavailable
                                            </div>
                                            <div class="col-md-3">
                                                Script extension allowed
                                            </div>
                                            <div class="col-md-3">
                                                unavailable
                                            </div>
                                        </div>

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Patient estimated expiry date
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.scriptExpiry)
                                            </div>
                                            <div class="col-md-3">
                                                Script warning SMS
                                            </div>
                                            <div class="col-md-3">
                                                yes/no
                                            </div>
                                        </div>

                                        <div class="row col-md-12">
                                            <div class="col-md-3 ">
                                                Patient estimated expiry date
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.pathologyBehind)
                                            </div>
                                            <div class="col-md-3 ">
                                                Script overdue SMS
                                            </div>
                                            <div class="col-md-3 ">
                                                yes/no
                                            </div>
                                        </div>
                                        <div class="row"></div>
                                        <br />
                                        <hr class="fancyruler">


                                        <!--Full Details / Pathology Details-->
                                        <div class="row" style="text-align:center">
                                            <h4 style="color: #003366; margin-top: 0%; margin-left: 2%; margin-bottom: 0%!important; font-size: 16px; font-family: 'Century Gothic'; font-weight: 300; font-style: normal;">Pathology Details</h4>
                                            <hr class="fancyruler">
                                        </div>

                                        <br />
                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Patient Has A Pathology
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.hasPathology)
                                            </div>
                                            <div class="col-md-3">
                                                Patient pathology due date
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.nextPathologyDate)
                                            </div>
                                        </div>

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Patient Last Pathology Effective Date
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.lastPathologyDate)
                                            </div>
                                            <div class="col-md-3">
                                                Patient requires warning SMS
                                            </div>
                                            <div class="col-md-3">
                                                unavailable
                                            </div>
                                        </div>

                                        <div class="row col-md-12">
                                            <div class="col-md-3">
                                                Patient Requires Pathology
                                            </div>
                                            <div class="col-md-3">
                                                @Html.DisplayFor(model => model.pathologyBehind)
                                            </div>
                                            <div class="col-md-3">
                                                Patient requires SMS
                                            </div>
                                            <div class="col-md-3">
                                                unavailable
                                            </div>

                                        </div>
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <br />
            </div>
            <!-- pathology -->
            <div class="tab-5" id="pathology">
                <label for="tab5-2">Pathology</label>
                <input id="tab5-2" name="tabs-three" type="radio">

                <div class="row tablinks">
                    <div class="form-horizontal" style="width: 355%; margin-left: -62%!important">
                        <h4 class="subHeading" style="margin-left: 1.5%">Patient pathology</h4>
                        <!-- create-->
                        <div class="actionButton" style="margin-top: 2.5%!important; margin-bottom: 4%!important; margin-left: -4.4%!important;">
                            <input class="newPathology" value="Create new " onclick="location.href='@Url.Action("CreatePathology", "Clinical", new { DependentID = Model.DependentID , pro = Context.Request.Query["pro"]}, null)'" style="width: 10%!important" />
                        </div>
                        <div class="addPathology" style="margin-left: 0.5%">
                            <a href="@Url.Action("CreatePathology", "Clinical", new { DependentID = Model.DependentID, pro = Context.Request.Query["pro"]})">
                                <i class="material-icons" id="icon" title="New pathology">
                                    add_circle_outline
                                </i>
                            </a>
                        </div>
                        <!-- table -->
                        <table class="table patientClinical_Table sortable" id="pathologyTable" style="margin-top: -1%!important">
                            <thead>
                                <tr>
                                    <th style="width: 7%">
                                        @Html.DisplayName("Effective") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(0)" style="width: 5.5%">
                                        @Html.DisplayName("HbA1C") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(1)" style="width: 5%">
                                        @Html.DisplayName("eGFR") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(2)" style="width: 5%">
                                        @Html.DisplayName("Choles") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(3)" style="width: 5%">
                                        @Html.DisplayName("LDL") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(4)" style="width: 5%">
                                        @Html.DisplayName("HDL") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(5)" style="width: 5%">
                                        @Html.DisplayName("Triglyc") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(6)" style="width: 5%">
                                        @Html.DisplayName("ALT") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(7)" style="width: 5%">
                                        @Html.DisplayName("AST") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(8)" style="width: 5%">
                                        @Html.DisplayName("CD4#") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(9)" style="width: 5%">
                                        @Html.DisplayName("CD4%") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(10)" style="width: 5%">
                                        @Html.DisplayName("V/load") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(11)" style="width: 5%">
                                        @Html.DisplayName("Hb") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(12)" style="width: 5.5%">
                                        @Html.DisplayName("S-Urea") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(13)" style="width: 5.5%">
                                        @Html.DisplayName("S-Crea") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>
                                    <th onclick="pathologyTable(14)" style="width: 5%">
                                        @Html.DisplayName("BP") <i class="fa fa-fw fa-sort" style="font-size: 8px"></i>
                                    </th>

                                    <th style="text-align: center!important; width: 8%">
                                        Action
                                    </th>
                                </tr>
                            </thead>

                            @foreach (var item in Model.Pathologies)
                            {
                                <tbody>
                                    <tr>
                                        <td data-dateformat="DD-MM-YYYY">
                                            @Html.DisplayFor(modelItem => item.effectiveDate)
                                        </td>
                                        @*@foreach (var riskItem in Model.RiskRating)
                                    {
                                        if (item.hba1c == riskItem.id)
                                        {
                                            <td style="color: green!important; font-weight: bold!important">
                                                @if (item.hba1c == 0 || item.hba1c.ToString() == "0.00")
                                                {
                                                }
                                                else
                                                {
                                                    @Html.DisplayFor(modelItem => item.hba1c)
                                                }
                                            </td>
                                        }
                                        else
                                        {
                                            <td>
                                                @if (item.hba1c == 0 || item.hba1c.ToString() == "0.00")
                                                {
                                                }
                                                else
                                                {
                                                    @Html.DisplayFor(modelItem => item.hba1c)
                                                }
                                            </td>
                                        }
                                    }*@
                                        <td>
                                            @if (item.hba1c == 0 || item.hba1c.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.hba1c)
                                            }
                                        </td>
                                        <td>
                                            @if (item.eGfr == 0 || item.eGfr.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.eGfr)
                                            }
                                        </td>
                                        <td>
                                            @if (item.totalCholestrol == 0 || item.totalCholestrol.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.totalCholestrol)
                                            }
                                        </td>
                                        <td>
                                            @if (item.ldl == 0 || item.ldl.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.ldl)
                                            }
                                        </td>
                                        <td>
                                            @if (item.hdl == 0 || item.hdl.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.hdl)
                                            }
                                        </td>
                                        <td>
                                            @if (item.triglycerides == 0 || item.triglycerides.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.triglycerides)
                                            }
                                        </td>
                                        <td>
                                            @if (item.alt == 0 || item.alt.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.alt)
                                            }
                                        </td>
                                        <td>
                                            @if (item.ast == 0 || item.ast.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.ast)
                                            }
                                        </td>
                                        <td>
                                            @if (item.CD4Count == 0 || item.CD4Count.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.CD4Count)
                                            }
                                        </td>
                                        <td>
                                            @if (item.CD4Percentage == 0 || item.CD4Percentage.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.CD4Percentage)
                                            }
                                        </td>
                                        <td>
                                            @if (item.viralLoad == 0 || item.viralLoad.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.viralLoad)
                                            }
                                        </td>
                                        <td>
                                            @if (item.haemoglobin == 0 || item.haemoglobin.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.haemoglobin)
                                            }
                                        </td>
                                        <td>
                                            @if (item.urea == 0 || item.urea.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.urea)
                                            }
                                        </td>
                                        <td>
                                            @if (item.creatinine == 0 || item.creatinine.ToString() == "0.00")
                                            {
                                            }
                                            else
                                            {
                                                @Html.DisplayFor(modelItem => item.creatinine)
                                            }
                                        </td>
                                        @if (item.systolicBP != null && item.diastolicBP != null)
                                        {
                                            if (item.systolicBP == 0 || item.diastolicBP == 0)
                                            {
                                                <td></td>
                                            }
                                            else if (item.systolicBP.ToString() == "0.00" || item.diastolicBP.ToString() == "0.00")
                                            {
                                                <td></td>
                                            }
                                            else
                                            {
                                                <td>@Html.DisplayFor(modelItem => item.systolicBP) / @Html.DisplayFor(modelItem => item.diastolicBP)</td>
                                            }
                                        }
                                        else
                                        {
                                            <td></td>
                                        }

                                        <td class="linkNav" style="text-align: center!important">
                                            <div class="contactIcon fas fa-edit" onclick="location.href='@Url.Action("EditPathology", "Member", new { id = item.pathologyID })'" title="Edit"> </div> &nbsp;
                                            <div class="contactIcon fas fa-info-circle" onclick="location.href='@Url.Action("PathologyDetails", "Member", new { id = item.pathologyID })'" title="Details"> </div>
                                        </td>
                                    </tr>
                                </tbody>

                            }

                        </table>
                    </div>
                </div>
                <!-- pathology js -->
                <script>
                    //tableSorting
                    function pathologyTable(n) {
                        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                        table = document.getElementById("pathologyTable");
                        switching = true;
                        dir = "asc";

                        while (switching) {
                            switching = false;
                            rows = table.getElementsByTagName("TR");

                            for (i = 1; i < (rows.length - 1); i++) {

                                shouldSwitch = false;

                                x = rows[i].getElementsByTagName("TD")[n];
                                y = rows[i + 1].getElementsByTagName("TD")[n];

                                if (dir == "asc") {
                                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                                        //if so, mark as a switch and break the loop:
                                        shouldSwitch = true;
                                        break;
                                    }
                                } else if (dir == "desc") {
                                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                                        //if so, mark as a switch and break the loop:
                                        shouldSwitch = true;
                                        break;
                                    }
                                }
                            }
                            if (shouldSwitch) {
                                /*If a switch has been marked, make the switch
                                and mark that a switch has been done:*/
                                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                switching = true;
                                //Each time a switch is done, increase this count by 1:
                                switchcount++;
                            } else {
                                /*If no switching has been done AND the direction is "asc",
                                set the direction to "desc" and run the while loop again.*/
                                if (switchcount == 0 && dir == "asc") {
                                    dir = "desc";
                                    switching = true;
                                }
                            }
                        }
                    }
                </script>
            </div>
            <!--script-->
            @if (User.Identity.IsAuthenticated)
            {
                if (User.HasRole("6. Global user") || (User.HasRole("5. Super user")) || (User.HasRole("4. Advisor")))
                {
                    <div class="tab-5">
                        <label for="tab5-3">Script</label>
                        <input id="tab5-3" name="tabs-three" type="radio">

                        <div class="row tablinks">
                            <div class="form-horizontal" style="width: 150%; margin-left: 0%!important">
                                <h4 class="subHeading">Authorisation history</h4>
                                <hr class="patientProfile_Ruler" />
                            </div>
                            <br />
                            <br />
                            <div class="row">
                                <div class="row">

                                    <!---------- Table Filter JQuery ---------->

                                    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

                                    <!---------- Table Filter JQuery ---------->

                                    <div class="filterable">
                                        <form>
                                            <table class="authHistory_filter">
                                                <tr class="filters">
                                                    <th><input type="text" class="form-control" name="scriptID" placeholder="Script ID" data-original-value="" id="filter_scriptID"></th>
                                                    @*<th><input type="text" class="form-control" name="itemNo" placeholder="Item #" data-original-value="" id="filter_itemNo"></th>*@
                                                    <th><input type="text" class="form-control" placeholder="CL Item #" data-original-value="" id="filter_clItem"></th>
                                                    <th><input type="text" class="form-control" placeholder="NAPPI" data-original-value="" id="filter_nappie"></th>
                                                    <th><input type="text" class="form-control" placeholder="Product" data-original-value="" id="filter_product"></th>
                                                    <th><input type="text" class="form-control" placeholder="Qty" data-original-value="" id="filter_Qty"></th>
                                                    <th><input type="text" class="form-control" placeholder="Instructions" data-original-value="" id="filter_directions"></th>
                                                    <th><input type="text" class="form-control" placeholder="Status" data-original-value="" id="filter_itemStatus"></th>
                                                    <th><input type="text" class="form-control" placeholder="From" data-original-value="" id="filter_fromDate"></th>
                                                    <th><input type="text" class="form-control" placeholder="To" data-original-value="" id="filter_toDate"></th>
                                                    <th><input type="text" class="form-control" placeholder="Doctor" data-original-value="" id="filter_doctor"></th>
                                                    <th><input type="text" class="form-control" placeholder="Note" data-original-value="" id="filter_note"></th>
                                                    <th><i class="fas fa-sync-alt reset" id="filter_reset"></i></th>
                                                </tr>

                                            </table>
                                        </form>
                                        <table class="table administration_Table sortable" id="myTable">

                                            <thead>
                                                <tr class="filters">
                                                    <th onclick="userTable(0)" style="width: 110px">
                                                        @Html.DisplayName("Script ID") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    @*<th onclick="userTable(0)" style="width: 110px">
                                                    @Html.DisplayName("Item #") <i class="fa fa-fw fa-sort"></i>
                                                </th>*@
                                                    <th onclick="userTable(0)" style="width: 110px">
                                                        @Html.DisplayName("CL item #") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th onclick="userTable(0)" style="width: 110px">
                                                        @Html.DisplayName("NAPPI") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th onclick="userTable(0)" style="width: 300px">
                                                        @Html.DisplayName("Product") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th onclick="userTable(0)" style="width: 70px">
                                                        @Html.DisplayName("Qty") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th onclick="userTable(0)" style="width: 250px">
                                                        @Html.DisplayName("Medication instructions") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th onclick="userTable(0)" style="width: 130px">
                                                        @Html.DisplayName("Item status") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th onclick="userTable(0)" style="width: 130px">
                                                        @Html.DisplayName("From date") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th onclick="userTable(0)" style="width: 130px">
                                                        @Html.DisplayName("To date") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th onclick="userTable(0)" style="width: 150px">
                                                        @Html.DisplayName("Doctor") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th onclick="userTable(0)" style="width: 130px">
                                                        @Html.DisplayName("Line note") <i class="fa fa-fw fa-sort"></i>
                                                    </th>
                                                    <th style="text-align: center!important; width: 100px">
                                                        @Html.DisplayName("Action")
                                                    </th>

                                                </tr>
                                            </thead>
                                            @foreach (var item in Model.ScriptItems)
                                            {
                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            @Html.DisplayFor(modelItem => item.scriptID)
                                                        </td>
                                                        @*<td>
                                                        @Html.DisplayFor(modelItem => item.itemNo)
                                                    </td>*@
                                                        <td>
                                                            @Html.DisplayFor(modelItem => item.CLItemLineNo)
                                                        </td>
                                                        <td>
                                                            @Html.DisplayFor(modelItem => item.nappiCode)
                                                        </td>
                                                        <td>
                                                            @Html.DisplayFor(modelItem => item.productName)
                                                        </td>
                                                        <td>
                                                            @Html.DisplayFor(modelItem => item.quantity)
                                                        </td>
                                                        <td>
                                                            @Html.DisplayFor(modelItem => item.directions)
                                                        </td>
                                                        <td>
                                                            @Html.DisplayFor(modelItem => item.itemStatus)
                                                        </td>
                                                        <td data-dateformat="DD-MM-YYYY">
                                                            @Html.DisplayFor(modelItem => item.fromDate)
                                                        </td>
                                                        <td data-dateformat="DD-MM-YYYY">
                                                            @Html.DisplayFor(modelItem => item.toDate)
                                                        </td>
                                                        <td>
                                                            @Html.DisplayFor(modelItem => item.prescribingDr)
                                                        </td>
                                                        <td>
                                                            @Html.DisplayFor(modelItem => item.comment)
                                                        </td>

                                                        <td class="statusCode linkNav" style="text-align: center!important">
                                                            @Html.ActionLink("Edit", "EditScriptItem", "Member", new { itemId = item.itemNo }, null)
                                                        </td>
                                                </tbody>
                                            }

                                        </table>
                                    </div>

                                </div>

                                <br />
                                <br />
                                @if (Model.Scripts.Count != 0)
                                {
                                    <div class="modal fade" id="myScriptModal" tabindex="-1" style="z-index:10" role="dialog" aria-labelledby="myModalLabel">

                                        <div class="modal-body">
                                            @{Html.RenderAction("_AddScriptItem", "Member", new { script = Model.Scripts[0].scriptID, member = 1 }); }
                                        </div>

                                    </div>
                                }

                                <div style="margin-left: 28%" class="addScriptBtn">

                                    @if (Model.ScriptItems != null)
                                    {
                                        if (Model.ScriptItems.Count > 0)
                                        {
                                            if (Model.ScriptItems[0].createdBy != "CL Importer")
                                            {
                                                <a data-toggle="modal" href="#myScriptModal" input type="button" class="btn newEnquiry" style="position: absolute; z-index: 8; margin-top: -15px; margin-left: 0.5%!important; margin-right: 15px; width: 15%">Add item</a>

                                                <input type="button" class="btn newEnquiry" style="position: absolute; z-index: 8; margin-top: -15px; margin-left: 16.1%!important; width: 15%" value="Authorise" onclick="location.href='@Url.Action("AuthoriseScript", "Scripts", new { id = Model.Scripts[0].scriptID }, null)'" />
                                                <input type="button" class="btn newEnquiry" style="position: absolute; z-index: 8; margin-top: -15px; margin-left: 31.7%!important; width: 15%" value="Add Reference" onclick="location.href='@Url.Action("AddReferenceScript", "Member", new { id = Model.Scripts[0].scriptID }, null)'" />
                                            }
                                        }
                                    }
                                    <a data-toggle="modal" href="#myModal" class="btn newEnquiry" style="position: absolute; z-index: 8; margin-top: -15px; margin-left: 47.2%!important; width: 15%">Add Script</a>

                                </div>

                                <!-- Modal -->
                                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" style="z-index:10" aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="">
                                        <div class="">
                                            <div class="modal-body">
                                                @Html.Action("_AddScript", "Member", new { DependentID = Model.DependentID, id = 0, taskId = 0 })
                                            </div>
                                        </div><!-- /.modal-content -->
                                    </div><!-- /.modal-dialog -->
                                </div><!-- /.modal -->
                                <!-- Modal -->
                                <!-- Modal -->

                            </div>


                        </div>
                        <script>
                            //Reset Button
                            $('.reset').click(function (e) {
                                $('[data-original-value]').each(function () {
                                    $(this).val($(this).data(''));
                                });

                                e.preventDefault();
                            });

                            $(".reset").click(function () {
                                $('#filter_scriptID').focus().keyup()(keyCode == 13);
                            });

                            //Table Filter - Individual Columns
                            $(document).ready(function () {
                                $('.filterable .btn-filter').click(function () {
                                    var $panel = $(this).parents('.filterable'),
                                        $filters = $panel.find('.filters input'),
                                        $tbody = $panel.find('.table tbody');
                                    if ($filters.prop('disabled') == true) {
                                        $filters.prop('disabled', false);
                                        $filters.first().focus();
                                    } else {
                                        $filters.val('').prop('disabled', true);
                                        $tbody.find('.no-result').remove();
                                        $tbody.find('tr').show();
                                    }
                                });

                                $('.filterable .filters input').keyup(function (e) {
                                    /* Ignore tab key */
                                    var code = e.keyCode || e.which;
                                    if (code == '9') return;
                                    /* Useful DOM data and selectors */
                                    var $input = $(this),
                                        inputContent = $input.val().toLowerCase(),
                                        $panel = $input.parents('.filterable'),
                                        column = $panel.find('.filters th').index($input.parents('th')),
                                        $table = $panel.find('.table'),
                                        $rows = $table.find('tbody tr');
                                    /* Dirtiest filter function ever ;) */
                                    var $filteredRows = $rows.filter(function () {
                                        var value = $(this).find('td').eq(column).text().toLowerCase();
                                        return value.indexOf(inputContent) === -1;
                                    });
                                    /* Clean previous no-result if exist */
                                    $table.find('tbody .no-result').remove();
                                    /* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
                                    $rows.show();
                                    $filteredRows.hide();
                                    /* Prepend no-result row if all rows are filtered */
                                    if ($filteredRows.length === $rows.length) {
                                        $table.find('tbody').prepend($('<tr class="no-result"><td colspan="12">No result found</td></tr>'));
                                    }
                                });
                            });
                        </script>
                    </div>
                }

                else if (User.HasRole("1. Consultant") || (User.HasRole("2. Case manager")) || (User.HasRole("3. Specialist")))
                {
                    <div class="tab-5">
                        <label for="tab5-3">Script</label>
                        <input id="tab5-3" name="tabs-three" type="radio">

                        <div class="row tablinks">
                            <div class="form-horizontal" style="width: 150%; margin-left: 0%!important">
                                <h4 class="subHeading">Authorisation history</h4>
                                <hr class="patientProfile_Ruler" />
                            </div>
                            <br />
                            <br />

                            <div class="row">
                                @*<style>
                                .filterable .filters input[disabled] {
                                    display: none;
                                }
                            </style>*@
                                <!---------- Table Filter JQuery ---------->
                                @*<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
                            <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>*@
                                <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

                                <!---------- Table Filter JQuery ---------->

                                <div class="filterable">
                                    @*<div class="panel-heading">
                                    <div class="pull-right">
                                        <button class="btn btn-default btn-xs btn-filter"><span class="glyphicon glyphicon-filter" style="z-index: 1000!important">Filter</span></button>
                                    </div>

                                </div>*@
                                    <form>
                                        <table class="authHistory_filter">
                                            <tr class="filters">
                                                <th><input type="text" class="form-control" name="scriptID" placeholder="Script ID" data-original-value="" id="filter_scriptID"></th>
                                                <th><input type="text" class="form-control" placeholder="CL Item #" data-original-value="" id="filter_clItem"></th>
                                                <th><input type="text" class="form-control" placeholder="NAPPI" data-original-value="" id="filter_nappie"></th>
                                                <th><input type="text" class="form-control" placeholder="Product" data-original-value="" id="filter_product"></th>
                                                <th><input type="text" class="form-control" placeholder="Qty" data-original-value="" id="filter_Qty"></th>
                                                <th><input type="text" class="form-control" placeholder="Directions" data-original-value="" id="filter_directions"></th>
                                                <th><input type="text" class="form-control" placeholder="Item" data-original-value="" id="filter_itemStatus"></th>
                                                <th><input type="text" class="form-control" placeholder="From" data-original-value="" id="filter_fromDate"></th>
                                                <th><input type="text" class="form-control" placeholder="To" data-original-value="" id="filter_toDate"></th>
                                                <th><input type="text" class="form-control" placeholder="Doctor" data-original-value="" id="filter_doctor"></th>
                                                <th><input type="text" class="form-control" placeholder="Note" data-original-value="" id="filter_note"></th>
                                                <th><i class="fas fa-sync-alt reset" id="filter_reset"></i></th>
                                            </tr>

                                        </table>
                                    </form>
                                    <table class="table administration_Table sortable" id="myTable">

                                        <thead>
                                            <tr class="filters">
                                                <th onclick="userTable(0)" style="width: 110px">
                                                    @Html.DisplayName("Script ID") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 110px">
                                                    @Html.DisplayName("CL item #") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 110px">
                                                    @Html.DisplayName("NAPPI") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 300px">
                                                    @Html.DisplayName("Product") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 70px">
                                                    @Html.DisplayName("Qty") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 250px">
                                                    @Html.DisplayName("Directions") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 130px">
                                                    @Html.DisplayName("Item status") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 130px">
                                                    @Html.DisplayName("From date") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 130px">
                                                    @Html.DisplayName("To date") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 150px">
                                                    @Html.DisplayName("Doctor") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th onclick="userTable(0)" style="width: 130px">
                                                    @Html.DisplayName("Line note") <i class="fa fa-fw fa-sort"></i>
                                                </th>
                                                <th style="text-align: center!important; width: 100px">
                                                    @Html.DisplayName("Action")
                                                </th>

                                            </tr>
                                        </thead>
                                        @foreach (var item in Model.ScriptItems)
                                        {
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.scriptID)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.CLItemLineNo)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.nappiCode)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.productName)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.quantity)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.directions)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.itemStatus)
                                                    </td>
                                                    <td data-dateformat="DD-MM-YYYY">
                                                        @Html.DisplayFor(modelItem => item.fromDate)
                                                    </td>
                                                    <td data-dateformat="DD-MM-YYYY">
                                                        @Html.DisplayFor(modelItem => item.toDate)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.prescribingDr)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.comment)
                                                    </td>
                                                    <td class="statusCode linkNav isDisabled" style="text-align: center!important" id="editLink">
                                                        <a href="#" class="isDisabled">Edit</a>
                                                    </td>
                                            </tbody>
                                        }

                                    </table>
                                </div>
                            </div>
                        </div>
                        <script>

                            $("#editLink").attr("disabled", true);

                            //Reset Button
                            $('.reset').click(function (e) {
                                $('[data-original-value]').each(function () {
                                    $(this).val($(this).data(''));
                                });

                                e.preventDefault();
                            });

                            $(".reset").click(function () {
                                $('#filter_scriptID').focus().keyup()(keyCode == 13);
                            });

                            //Table Filter - Individual Columns
                            $(document).ready(function () {
                                $('.filterable .btn-filter').click(function () {
                                    var $panel = $(this).parents('.filterable'),
                                        $filters = $panel.find('.filters input'),
                                        $tbody = $panel.find('.table tbody');
                                    if ($filters.prop('disabled') == true) {
                                        $filters.prop('disabled', false);
                                        $filters.first().focus();
                                    } else {
                                        $filters.val('').prop('disabled', true);
                                        $tbody.find('.no-result').remove();
                                        $tbody.find('tr').show();
                                    }
                                });

                                $('.filterable .filters input').keyup(function (e) {
                                    /* Ignore tab key */
                                    var code = e.keyCode || e.which;
                                    if (code == '9') return;
                                    /* Useful DOM data and selectors */
                                    var $input = $(this),
                                        inputContent = $input.val().toLowerCase(),
                                        $panel = $input.parents('.filterable'),
                                        column = $panel.find('.filters th').index($input.parents('th')),
                                        $table = $panel.find('.table'),
                                        $rows = $table.find('tbody tr');
                                    /* Dirtiest filter function ever ;) */
                                    var $filteredRows = $rows.filter(function () {
                                        var value = $(this).find('td').eq(column).text().toLowerCase();
                                        return value.indexOf(inputContent) === -1;
                                    });
                                    /* Clean previous no-result if exist */
                                    $table.find('tbody .no-result').remove();
                                    /* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
                                    $rows.show();
                                    $filteredRows.hide();
                                    /* Prepend no-result row if all rows are filtered */
                                    if ($filteredRows.length === $rows.length) {
                                        $table.find('tbody').prepend($('<tr class="no-result"><td colspan="12">No result found</td></tr>'));
                                    }
                                });
                            });
                        </script>
                    </div>
                }
            }
            <!--patientHistory-->
            <div class="tab-5">
                <label for="tab5-4">Patient history</label>
                <input id="tab5-4" name="tabs-three" type="radio">
                <div class="contentBlock_patientHistory">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="tabbable-panel">
                                <div class="tabbable-line">
                                    <!--navigationTabs-->
                                    <ul class="nav nav-tabs">
                                        <li class="active" style="width: 150px!important; text-align: center!important">
                                            <a href="#tab_default_1" data-toggle="tab">
                                                Clinical
                                            </a>
                                        </li>
                                        @foreach (var item in Model.programs)
                                        {
                                            if (item.programCode.ToString().ToLower() == "diabetes")
                                            {
                                                <li style="width: 150px!important; text-align: center!important">
                                                    <a href="#tab_default_2" data-toggle="tab">
                                                        Diabetes
                                                    </a>
                                                </li>
                                            }
                                        }
                                        @foreach (var item in Model.programs)
                                        {
                                            if (item.programCode.ToString().ToLower() == "hiv")
                                            {
                                                <li style="width: 150px!important; text-align: center!important">
                                                    <a href="#tab_default_3" data-toggle="tab">
                                                        HIV
                                                    </a>
                                                </li>
                                            }
                                        }
                                        <li style="width: 150px!important; text-align: center!important">
                                            <a href="#tab_default_4" data-toggle="tab">
                                                Hospitalisations
                                            </a>
                                        </li>
                                        <li style="width: 150px!important; text-align: center!important">
                                            <a href="#tab_default_5" data-toggle="tab">
                                                Consultations
                                            </a>
                                        </li>
                                    </ul>
                                    <!--navigationContent-->
                                    <div class="tab-content">
                                        <!--clinicalHistory_TAB-->
                                        <div class="tab-pane active" id="tab_default_1">
                                            <div class="contentBlock_socialRec">
                                                <h4 class="summaryHeading">Patient information - Clinical</h4>
                                                <hr class="patientProfile_Ruler" />
                                                <!--PATIENT HISTORY/PASIËNT GESKIEDENIS-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Patient information
                                                                @if (Model.summary.generalClinicalExams != null)
                                                                {
                                                                    if (Model.summary.generalClinicalExams.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.generalClinicalExams)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.clinicalComment) && item.clinicalComment != "Follow up" && item.clinicalComment != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.generalClinicalExams != null)
                                                                {
                                                                    if (Model.summary.generalClinicalExams.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.generalClinicalExams)
                                                                        {

                                                                            if (item.followUp == true)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <table class="table patientHistory_Table sortable" id="clinicalTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        @Html.DisplayNameFor(model => model.summary.generalClinicalExams[0].createdDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th>
                                                                                        @Html.DisplayNameFor(model => model.summary.generalClinicalExams[0].effectiveDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(1)">
                                                                                        @Html.DisplayNameFor(model => model.summary.generalClinicalExams[0].height) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(2)">
                                                                                        @Html.DisplayNameFor(model => model.summary.generalClinicalExams[0].weight) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(3)">
                                                                                        @Html.DisplayNameFor(model => model.summary.generalClinicalExams[0].bmi) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(4)">
                                                                                        @Html.DisplayNameFor(model => model.summary.generalClinicalExams[0].bodyServiceArea) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(5)">
                                                                                        @Html.DisplayNameFor(model => model.summary.generalClinicalExams[0].createdBy) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(6)" style="text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.generalClinicalExams[0].programType) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(7)" style="text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.generalClinicalExams[0].clinicalComment)
                                                                                    </th>

                                                                                    <th style="text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>
                                                                            @if (Model.summary.generalClinicalExams.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="10" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.generalClinicalExams)
                                                                                {
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="9" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY">@Html.DisplayFor(modelItem => item.createdDate)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY">
                                                                                                    @Html.DisplayFor(modelItem => item.effectiveDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.height)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.weight)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.bmi)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.bodyServiceArea)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.createdBy)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.clinicalComment == "None" || item.clinicalComment == "none" || item.clinicalComment == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.clinicalComment == null || item.clinicalComment == " " || item.clinicalComment == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.clinicalComment"></i></span></td>
                                                                                            }

                                                                                            <td class="linkNav" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "DetailsClinicalExam", new { id = item.id, pro = Context.Request.Query["pro"] }) /
                                                                                                @Html.ActionLink("Edit", "EditClinicalExam", new { id = item.id, pro = Context.Request.Query["pro"] })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }
                                                                        </table>
                                                                        <script>
                                                                            //tableSorting
                                                                            function clinicalTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("clinicalTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("AddClinical", "Member", new { DependentID = Model.DependentID, pro = Context.Request.Query["pro"] }, null)'" />
                                                                    </div>
                                                                    <br />

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--COMORBID/COMORBIDE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Co-Morbidities
                                                                @if (Model.generalCoMorbids != null)
                                                                {
                                                                    if (Model.generalCoMorbids.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.generalCoMorbids)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.generalCoMorbids != null)
                                                                {
                                                                    if (Model.generalCoMorbids.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.generalCoMorbids)
                                                                        {
                                                                            if (item.followUp == true || item.generalComments == "Follow up")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="socialTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th onclick="socialTable(0)" style="width: 11%">
                                                                                            @Html.DisplayName("Date created") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(1)">
                                                                                            @Html.DisplayName("Condition") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(2)" style="width: 11%">
                                                                                            @Html.DisplayName("ICD10") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(3)" style="width: 11%; text-align: center!important">
                                                                                            @Html.DisplayName("Effective date") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(4)" style="width: 11%; text-align: center!important">
                                                                                            @Html.DisplayName("End date") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(5)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Comment")
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>

                                                                                @if (Model.generalCoMorbids.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="8" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.generalCoMorbids)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="7" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY">
                                                                                                        @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.coMorbidId == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.coMorbidId)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.coMorbidId == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.ICD10Code)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.effectiveDate == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important"> - </td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.effectiveDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.treatementEndDate == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important"> - </td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.treatementEndDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "DetailsComorbid", new { Id = item.id, pro=Context.Request.Query["pro"] }) /
                                                                                                    @Html.ActionLink("Edit", "EditComorbid", new { Id = item.id, pro=Context.Request.Query["pro"] })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>
                                                                            //tableSorting
                                                                            function socialTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("socialTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    @if (User.Identity.IsAuthenticated)
                                                                    {
                                                                        if (User.HasRole("6. Global user") || (User.HasRole("5. Super user")) || (User.HasRole("4. Advisor")))
                                                                        {
                                                                            <div class="detailsdrop">
                                                                                <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("AddComorbid", "Member", new { DependentID = Model.DependentID, pro=Context.Request.Query["pro"] }, null)'" />
                                                                            </div>
                                                                            <br />

                                                                        }

                                                                        else if (User.HasRole("1. Consultant") || (User.HasRole("2. Case manager")) || (User.HasRole("3. Specialist")))
                                                                        {
                                                                            <div class="detailsdrop">
                                                                                <input type="button" class="btn buttonRound_formCreate isDisabled" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" />
                                                                            </div>
                                                                            <br />

                                                                        }
                                                                    }


                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div>
                                                    @*<div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Medication
                                                                @if (Model.summary.meds != null)
                                                                {
                                                                    if (Model.summary.meds.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.generalMedications)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.comment) && item.comment != "Follow up" && item.comment != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.meds != null)
                                                                {
                                                                    if (Model.summary.meds.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.generalMedications)
                                                                        {

                                                                            if (item.followUp == true || item.directions == "Follow up" || item.comment == "Follow up")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }

                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="medicalTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th onclick="medicalTable(1)" style="text-align: center!important">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalMedications[0].createdDate) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="medicalTable(2)" style="text-align: center!important">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalMedications[0].nappiCode) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="medicalTable(3)">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalMedications[0].productName) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="medicalTable(4)">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalMedications[0].directions) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="medicalTable(5)" style="text-align: center!important">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalMedications[0].startDate) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="medicalTable(6)" style="text-align: center!important">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalMedications[0].endDate) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="medicalTable(7)">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalMedications[0].createdBy) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="medicalTable(8)" style="width: 8%; text-align: center!important ">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalMedications[0].programType) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th style="width: 8% ;text-align: center!important">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalMedications[0].comment)
                                                                                        </th>
                                                                                        <th style="width: 8% ;text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                @if (Model.summary.generalMedications.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="10" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.generalMedications)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="9" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.nappiCode == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.nappiCode)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.productName == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.DisplayFor(modelItem => item.productName)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.directions == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.DisplayFor(modelItem => item.directions)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.startDate == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important">-</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">@Html.DisplayFor(modelItem => item.startDate)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.endDate == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important">-</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">@Html.DisplayFor(modelItem => item.endDate)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.DisplayFor(modelItem => item.createdBy)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.comment == "None" || item.comment == "none" || item.comment == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.comment == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.comment == null || item.comment == " " || item.comment == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.comment"></i></span></td>
                                                                                                }
                                                                                                <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "DetailsMedication", new { id = item.Id }) /
                                                                                                    @Html.ActionLink("Edit", "EditMedication", new { id = item.Id })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>

                                                                            //tableSorting
                                                                            function medicalTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("medicalTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("AddMeds", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                    </div>
                                                                    <br />

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>*@
                                                </div>
                                                <!--MEDICATION/MEDIKASIE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Medication
                                                                @if (Model.generalScriptItems != null)
                                                                {
                                                                    if (Model.generalScriptItems.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.generalScriptItems)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.comment) && item.comment != "Follow up" && item.comment != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">
                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <table class="table patientHistory_Table sortable" id="scriptHistoryTable">

                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="scriptHistoryTable(1)" style="width: 100px">
                                                                                        @Html.DisplayNameFor(model => model.generalScriptItems[0].icd10code) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(2)" style="width: 150px">
                                                                                        @Html.DisplayNameFor(model => model.generalScriptItems[0].nappiCode) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(3)" style="width: 250px">
                                                                                        @Html.DisplayNameFor(model => model.generalScriptItems[0].productName) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(4)" style="width: 250px">
                                                                                        @Html.DisplayName("Note") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(5)" style="width: 200px">
                                                                                        @Html.DisplayNameFor(model => model.generalScriptItems[0].itemStatus) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(6)" style="width: 150px">
                                                                                        @Html.DisplayNameFor(model => model.generalScriptItems[0].fromDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(7)" style="width: 150px">
                                                                                        @Html.DisplayNameFor(model => model.generalScriptItems[0].toDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(8)" style="width: 220px">
                                                                                        @Html.DisplayNameFor(model => model.generalScriptItems[0].comment) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th style="width: 100px; text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.generalScriptItems != null)
                                                                            {
                                                                                if (Model.generalScriptItems.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="9" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {

                                                                                    foreach (var item in Model.generalScriptItems)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.icd10code)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.nappiCode)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.productName)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.directions)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.itemStatus)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.fromDate)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.toDate)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.comment)
                                                                                                </td>
                                                                                                <td class="statusCode linkNav" style="text-align: center!important">
                                                                                                    @Html.ActionLink("Edit", "EditMedicationItem", "Member", new { itemId = item.itemNo, pro=Context.Request.Query["pro"] }, null)
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <tr><td colspan="9" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                        </table>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("AddMedication", "Member", new { DependentID = Model.DependentID, pro=Context.Request.Query["pro"] }, null)'" />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--ALLERGY/ALLERGIE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Allergy
                                                                @if (Model.summary.generalAllergies != null)
                                                                {
                                                                    if (Model.summary.generalAllergies.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.allergies)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.generalAllergies != null)
                                                                {
                                                                    if (Model.summary.generalAllergies.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.generalAllergies)
                                                                        {
                                                                            if (item.followUp == true || item.Allergy == "Follow up" || item.generalComments == "Follow up")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>

                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="allergyTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>
                                                                                            @Html.DisplayNameFor(model => model.summary.generalAllergies[0].createdDate) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="allergyTable(1)">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalAllergies[0].Allergy) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="allergyTable(2)">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalAllergies[0].createdBy) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="allergyTable(3)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalAllergies[0].programType) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="allergyTable(4)" style="width: 8% ;text-align: center!important">
                                                                                            @Html.DisplayNameFor(model => model.summary.generalAllergies[0].generalComments)
                                                                                        </th>
                                                                                        <th style="width: 8% ;text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                @if (Model.summary.generalAllergies.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="6" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.generalAllergies)
                                                                                    {

                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="5" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY">
                                                                                                        @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.Allergy == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.DisplayFor(modelItem => item.Allergy)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.DisplayFor(modelItem => item.createdBy)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "DetailsAllergies", new { id = item.id, pro=Context.Request.Query["pro"] }) /
                                                                                                    @Html.ActionLink("Edit", "EditAllergies", new { id = item.id, pro=Context.Request.Query["pro"] })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>
                                                                            //tableSorting
                                                                            function allergyTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("allergyTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("Allergy_Create", "Member", new { DependentID = Model.DependentID, pro=Context.Request.Query["pro"] }, null)'" />
                                                                        @*<input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("AddAllergies", "Member", new { DependentID = Model.DependentID }, null)'" />*@
                                                                    </div>
                                                                    <br />


                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--SOCIAL HISTORY/SOSIALE GESKIEDENIS-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Social
                                                                @if (Model.summary.generalQuestionaires != null)
                                                                {
                                                                    if (Model.summary.generalQuestionaires.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.generalQuestionaires)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.socialComment) && item.socialComment != "Follow up" && item.socialComment != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.generalQuestionaires != null)
                                                                {
                                                                    if (Model.summary.generalQuestionaires.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.generalQuestionaires)
                                                                        {

                                                                            if (item.followUp == true)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="socialTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>
                                                                                            @Html.DisplayName("Created date") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(1)" style="text-align: center!important">
                                                                                            @Html.DisplayName("Smoker") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(2)">
                                                                                            @Html.DisplayName("Daily amount") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(2)" style="text-align: center!important">
                                                                                            @Html.DisplayName("Years") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(3)" style="text-align: center!important">
                                                                                            @Html.DisplayName("Drinker") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(4)">
                                                                                            @Html.DisplayName("Amount") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(5)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Comment")
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>

                                                                                @if (Model.summary.generalQuestionaires.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="9" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }

                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.generalQuestionaires)
                                                                                    {

                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="8" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY">@Html.DisplayFor(model => item.createdDate)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.smoker == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else if (item.smoker == true)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check-circle"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.NoCigs == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important">-</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(model => item.NoCigs)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.smokingYears == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important">-</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        @Html.DisplayFor(model => item.smokingYears)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.drinker == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else if (item.drinker == true)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check-circle"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.NrDrinks == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important">-</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(model => item.NrDrinks)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.socialComment == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>

                                                                                                }
                                                                                                else if (item.socialComment == "None" || item.socialComment == "none" || item.socialComment == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.socialComment == null || item.socialComment == " " || item.socialComment == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.socialComment != null || item.socialComment != " " || item.socialComment != "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px;color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.socialComment"></i></span></td>
                                                                                                }

                                                                                                <!---->
                                                                                                <!---->
                                                                                                <td class="linkNav" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "Details_socialRecord", new { id = item.id,pro=Context.Request.Query["pro"] }) /
                                                                                                    @Html.ActionLink("Edit", "Edit_socialRecord", new { id = item.id,pro=Context.Request.Query["pro"] })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>

                                                                            //tableSorting
                                                                            function socialTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("socialTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("Create_socialRecord", "Member", new { DependentID = Model.DependentID,pro=Context.Request.Query["pro"] }, null)'" />
                                                                    </div>
                                                                    <br />


                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--HOSPITALISATION/HOSPITALISASIE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Hospitalisations
                                                                @if (Model.generalHospitalAuths != null)
                                                                {
                                                                    if (Model.generalHospitalAuths.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.generalHospitalAuths)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.generalHospitalAuths != null)
                                                                {
                                                                    if (Model.generalHospitalAuths.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.generalHospitalAuths)
                                                                        {
                                                                            if (item.followUp == true)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="hospitalisationTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>
                                                                                            @Html.DisplayNameFor(model => model.generalHospitalAuths[0].createdDate) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="hospitalisationTable(1)">
                                                                                            @Html.DisplayNameFor(model => model.generalHospitalAuths[0].authType) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="hospitalisationTable(2)" style="text-align: center!important">
                                                                                            @Html.DisplayName("Administered date") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="hospitalisationTable(3)" style="width: 8% ;text-align: center!important">
                                                                                            @Html.DisplayNameFor(model => model.generalHospitalAuths[0].programType) <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="hospitalisationTable(4)" style="width: 8% ;text-align: center!important">
                                                                                            @Html.DisplayNameFor(model => model.generalHospitalAuths[0].generalComments)
                                                                                        </th>
                                                                                        <th style="width: 8% ;text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                @if (Model.generalHospitalAuths.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="6" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.generalHospitalAuths)
                                                                                    {

                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="5" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY">
                                                                                                        @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.authType == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.authType)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }

                                                                                                else if (item.actualAdminDate == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important"> - </td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.actualAdminDate)
                                                                                                    </td>
                                                                                                }

                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.programType)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "Hospitalisations_Details", new { id = item.id, pro=Context.Request.Query["pro"]}) /
                                                                                                    @Html.ActionLink("Edit", "Hospitalisations_Edit", new { id = item.id, pro=Context.Request.Query["pro"]})
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>
                                                                            //tableSorting
                                                                            function hospitalisationTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("allergyTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("Hospitalisations_Create", "Member", new { DependentID = Model.DependentID, pro=Context.Request.Query["pro"] }, null)'" />
                                                                    </div>
                                                                    <br />


                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--GENERAL/ALGEMEEN-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Other

                                                                @if (Model.summary.generalQuestionnaireOthers != null)
                                                                {
                                                                    if (Model.summary.generalQuestionnaireOthers.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.generalQuestionnaireOthers)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.generalQuestionnaireOthers != null)
                                                                {
                                                                    if (Model.summary.generalQuestionnaireOthers.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.generalQuestionnaireOthers)
                                                                        {

                                                                            if (item.followUp == true)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="otherTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th onclick="socialTable(0)" style="width: 12%">
                                                                                            @Html.DisplayName("Occupation") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(1)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Shift worker") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(4)" style="width: 11%; text-align: center!important">
                                                                                            @Html.DisplayName("Recreational drugs") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(5)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("TB Diagnosis") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(6)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Pregnant") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(6)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Blood tests") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(7)" style="width: 7%; text-align: center!important">
                                                                                            @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th style="width: 7%; text-align: center!important">
                                                                                            Comment
                                                                                        </th>
                                                                                        <th style="width: 7%; text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>


                                                                                @if (Model.summary.generalQuestionnaireOthers.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="10" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }

                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.generalQuestionnaireOthers)
                                                                                    {

                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="8" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.DisplayFor(model => item.occupation)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    if (item.shiftWorkCheck == false)
                                                                                                    {
                                                                                                        <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                                    }
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.recDrugs == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.tbDiagnosed == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.Pregnant == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.bloodTestFrequency)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                <td class="linkNav" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "generalOther_Details", new { id = item.QuestionnaireOtherID }) /
                                                                                                    @Html.ActionLink("Edit", "generalOther_Edit", new { id = item.QuestionnaireOtherID })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>

                                                                            //tableSorting
                                                                            function otherTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("socialTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("generalOther_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                    </div>
                                                                    <br />

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr class="patientProfile_Ruler" />
                                            </div>
                                        </div>

                                        <!--Diabetes_TAB-->
                                        <div class="tab-pane" id="tab_default_2">

                                            <div class="contentBlock_socialRec">
                                                <h4 class="summaryHeading">Patient information - Diabetes</h4>
                                                <hr class="patientProfile_Ruler" />
                                                <!--DIAGNOSIS/DIAGNOSE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Diagnosis
                                                                @if (Model.summary.diabetesProgramDiagnoses != null)
                                                                {
                                                                    if (Model.summary.diabetesProgramDiagnoses.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.diabetesProgramDiagnoses)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.programDiagnoses != null)
                                                                {
                                                                    if (Model.summary.programDiagnoses.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.diabetesProgramDiagnoses)
                                                                        {
                                                                            if (item.followUp == true || item.diagnosisDate == null)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="socialTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th onclick="socialTable(0)" style="width: 10%; text-align: center!important">
                                                                                            @Html.DisplayName("Date created") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(1)" style="width: 24%">
                                                                                            @Html.DisplayName("Program code") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(2)">
                                                                                            @Html.DisplayName("Program description") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(4)" style="width: 11%; text-align: center!important">
                                                                                            @Html.DisplayName("Diagnosis date") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(0)" style="width: 12%">
                                                                                            @Html.DisplayName("Created by") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(0)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Comment")
                                                                                        </th>
                                                                                        <th onclick="socialTable(4)" style="width: 8%; text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>

                                                                                @if (Model.summary.diabetesProgramDiagnoses.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="7" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.diabetesProgramDiagnoses)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="6" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY" style="text-align:center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.programCode)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.programDescription)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.diagnosisDate == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important"> - </td>

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.diagnosisDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.createdBy)
                                                                                                    </td>
                                                                                                }

                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "diagnosis_Details", new { Id = item.Id, pro=Context.Request.Query["pro"] }) /
                                                                                                    @Html.ActionLink("Edit", "diagnosis_Edit", new { Id = item.Id, pro=Context.Request.Query["pro"] })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                    @if (User.Identity.IsAuthenticated)
                                                                    {
                                                                        if (User.HasRole("6. Global user") || (User.HasRole("5. Super user")) || (User.HasRole("4. Advisor")))
                                                                        {
                                                                            <div class="detailsdrop">
                                                                                <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("diagnosis_Create", "Member", new { DependentID = Model.DependentID, pro=Context.Request.Query["pro"]}, null)'" />
                                                                            </div>
                                                                            <br />

                                                                        }

                                                                        else if (User.HasRole("1. Consultant") || (User.HasRole("2. Case manager")) || (User.HasRole("3. Specialist")))
                                                                        {
                                                                            <div class="detailsdrop">
                                                                                <input type="button" class="btn buttonRound_formCreate isDisabled" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" />
                                                                            </div>
                                                                            <br />

                                                                        }
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--MEDICATION/MEDIKASIE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Medication
                                                                @if (Model.diabetesScriptItems != null)
                                                                {
                                                                    if (Model.diabetesScriptItems.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.diabetesScriptItems)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.comment) && item.comment != "Follow up" && item.comment != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">
                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <table class="table patientHistory_Table sortable" id="scriptHistoryTable">

                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="scriptHistoryTable(2)" style="width: 110px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].icd10code) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(3)" style="width: 160px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].nappiCode) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(4)" style="width: 250px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].productName) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(6)" style="width: 230px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].itemStatus) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(7)" style="width: 220px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].fromDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(8)" style="width: 220px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].toDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(10)" style="width: 230px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].comment) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.diabetesScriptItems != null)
                                                                            {
                                                                                if (Model.diabetesScriptItems.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="7" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {

                                                                                    foreach (var item in Model.diabetesScriptItems)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.icd10code)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.nappiCode)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.productName)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.itemStatus)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.fromDate)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.toDate)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.comment)
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <tr><td colspan="7" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--VISION/VISIE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Vision

                                                                @if (Model.summary.visions != null)
                                                                {
                                                                    if (Model.summary.visions.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.visions)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.visions != null)
                                                                {
                                                                    if (Model.summary.visions.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.visions)
                                                                        {

                                                                            if (item.followUp == true)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="artDiseaseTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th style="width: 12%">
                                                                                            @Html.DisplayName("Created") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(0)" style="width: 22%">
                                                                                            @Html.DisplayName("Vision") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(1)" style="width: 22%">
                                                                                            @Html.DisplayName("Treatments") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(2)" style="width: 15%">
                                                                                            @Html.DisplayName("Created by") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(3)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Comment
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>

                                                                                @if (Model.summary.visions.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="7" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }

                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.visions)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="6" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY">@Html.DisplayFor(model => item.createdDate)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.vision == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.Raw(Html.Encode(item.vision).Replace(",", "<br />" + "	"))</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.eyeTreatment == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.Raw(Html.Encode(item.eyeTreatment).Replace(",", "<br />" + "	"))</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.DisplayFor(model => item.createdBy)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.generalComments == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                <td class="linkNav" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "vision_Details", new { id = item.VisionID }) /
                                                                                                    @Html.ActionLink("Edit", "vision_Edit", new { id = item.VisionID })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>
                                                                            //tableSorting
                                                                            function visionTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("socialTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("vision_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                    </div>
                                                                    <br />

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--PODIATRY/PODIATRIE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Podiatry

                                                                @if (Model.summary.podiatries.Count() > 0)
                                                                {
                                                                    if (Model.summary.podiatries != null)
                                                                    {
                                                                        foreach (var item in Model.summary.podiatries)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "• Follow up" && item.generalComments != "• None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }

                                                                @if (Model.summary.podiatries != null)
                                                                {
                                                                    if (Model.summary.podiatries.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.podiatries)
                                                                        {

                                                                            if (item.followUp == true || item.amputationComment == "• Follow up" || item.amputationReason == "• Follow up" || item.podiatryLopsComment == "• Follow up" || item.podiatryDeformityComment == "• Follow up" || item.podiatryPerArterialDiseaseComment == "• Follow up" || item.podiatryWoundComment == "• Follow up")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }

                                                            </h3>

                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="podTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th onclick="socialTable(0)" style="width: 11%">
                                                                                            @Html.DisplayName("Amputation") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(1)" style="width: 11%">
                                                                                            @Html.DisplayName("Comment") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(2)" style="width: 11%">
                                                                                            @Html.DisplayName("Reason") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(3)" style="width: 11%">
                                                                                            @Html.DisplayName("LOPS") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(4)" style="width: 11%">
                                                                                            @Html.DisplayName("Deformity") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(5)" style="width: 11%">
                                                                                            @Html.DisplayName("Arterial disease") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        @*<th onclick="socialTable(6)" style="width: 11%">
                                                                                        @Html.DisplayName("Wounds") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>*@
                                                                                        <th onclick="socialTable(7)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Comment
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>

                                                                                @if (Model.summary.podiatries.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="9" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }

                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.podiatries)
                                                                                    {

                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="8" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else if (item.amputationCheck == true)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check-circle"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.amputationComment == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.Raw(Html.Encode(item.amputationComment).Replace(",", "<br />" + "	"))</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.amputationReason == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.amputationReason == "" || item.amputationReason == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important">-</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.Raw(Html.Encode(item.amputationReason).Replace(",", "<br />" + "	"))</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.podiatryLopsComment == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td> @Html.Raw(Html.Encode(item.podiatryLopsComment).Replace(",", "<br />" + "	")) </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.podiatryDeformityComment == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.Raw(Html.Encode(item.podiatryDeformityComment).Replace(",", "<br />" + "	"))</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.podiatryPerArterialDiseaseComment == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.Raw(Html.Encode(item.podiatryPerArterialDiseaseComment).Replace(",", "<br />" + "	"))</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @*@if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.podiatryWoundComment == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.Raw(Html.Encode(item.podiatryWoundComment).Replace(",", "<br />" + "	"))</td>
                                                                                            }*@
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.programType == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70)!important; text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70)!important; text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }

                                                                                                <!---->

                                                                                                <td class="linkNav" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "podiatry_Details", new { id = item.PodiatryID }) /
                                                                                                    @Html.ActionLink("Edit", "podiatry_Edit", new { id = item.PodiatryID })

                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>

                                                                            //tableSorting
                                                                            function podTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("socialTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("podiatry_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                    </div>
                                                                    <br />


                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--AUTO NEURO/OUTO NEURO-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Autonomic neuropathy

                                                                @if (Model.summary.autoNeropathies != null)
                                                                {
                                                                    if (Model.summary.autoNeropathies.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.autoNeropathies)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.autoNeropathies != null)
                                                                {
                                                                    if (Model.summary.autoNeropathies.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.autoNeropathies)
                                                                        {

                                                                            if (item.followUp == true)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="artDiseaseTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th onclick="socialTable(0)">
                                                                                            @Html.DisplayName("Symptoms") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(1)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Comment
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>

                                                                                @if (Model.summary.autoNeropathies.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="4" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }

                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.autoNeropathies)
                                                                                    {

                                                                                        <tbody>
                                                                                            <tr>

                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="3" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else if (item.autoNeuroSympComment == "None")
                                                                                                {
                                                                                                    <td>@Html.DisplayFor(model => item.autoNeuroSympComment)</td>
                                                                                                }
                                                                                                else if (item.autoNeuroSympComment == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.Raw(Html.Encode(item.autoNeuroSympComment).Replace(",", "<br />" + "	"))</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align:center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments != null || item.generalComments != " " || item.generalComments != "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }


                                                                                                <td class="linkNav" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "autoNero_Details", new { id = item.AutoNeropathyID }) /
                                                                                                    @Html.ActionLink("Edit", "autoNero_Edit", new { id = item.AutoNeropathyID })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>

                                                                            //tableSorting
                                                                            function artDiseaseTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("socialTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("autoNero_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                    </div>
                                                                    <br />


                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--HYPOGLYCEMIA (LOW BLOOD SUGAR)/HIPOGLUKEMIE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Hypoglycaemia

                                                                @if (Model.summary.hypoglycaemias != null)
                                                                {
                                                                    if (Model.summary.hypoglycaemias.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.hypoglycaemias)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.hypoglycaemias != null)
                                                                {
                                                                    if (Model.summary.hypoglycaemias.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.hypoglycaemias)
                                                                        {

                                                                            if (item.followUp == true || item.hypoglycaemiaSymptomsComment == "• Follow up")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="hypoTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th onclick="socialTable(0)">
                                                                                            @Html.DisplayName("Symptoms") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(2)" style="text-align: center!important">
                                                                                            @Html.DisplayName("Glucose < 4,1mol") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(2)" style="text-align: center!important">
                                                                                            @Html.DisplayName("Hypoglycaemic assistance") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(3)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Comment
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>

                                                                                @if (Model.summary.hypoglycaemias.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="6" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.hypoglycaemias)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="5" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else if (item.hypoglycaemiaSymptomsComment == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.Raw(Html.Encode(item.hypoglycaemiaSymptomsComment).Replace(",", "<br />" + "	"))</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.glucoseReading == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.glucoseReading == "• None")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: red"><i class="far fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else if (item.glucoseReading == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important">-</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.glucoseReading)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.hypoglycaemiaAssistance == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.hypoglycaemiaAssistance == "• None")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="text-align: center!important;font-size: 14px; color: red"><i class="far fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else if (item.hypoglycaemiaAssistance == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important">-</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align:center!important">@Html.DisplayFor(modelItem => item.hypoglycaemiaAssistance)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.generalComments == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.generalComments == "• Follow up")
                                                                                                {
                                                                                                }
                                                                                                else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }

                                                                                                <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "hypoGlycaemia_Details", new { id = item.HypoglycaemiaID }) /
                                                                                                    @Html.ActionLink("Edit", "hypoGlycaemia_Edit", new { id = item.HypoglycaemiaID })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>

                                                                            //tableSorting
                                                                            function hypoTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("medicalTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("hypoGlycaemia_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                    </div>
                                                                    <br />

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr class="patientProfile_Ruler" />
                                            </div>
                                        </div>

                                        <!--HIV_TAB-->
                                        <div class="tab-pane" id="tab_default_3">

                                            <div class="contentBlock_socialRec">
                                                <h4 class="summaryHeading">Patient information - HIV</h4>
                                                <hr class="patientProfile_Ruler" />

                                                <!--DIAGNOSIS/DIAGNOSE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Diagnosis
                                                                @if (Model.summary.hivProgramDiagnoses != null)
                                                                {
                                                                    if (Model.summary.hivProgramDiagnoses.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.hivProgramDiagnoses)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.hivProgramDiagnoses != null)
                                                                {
                                                                    if (Model.summary.hivProgramDiagnoses.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.hivProgramDiagnoses)
                                                                        {
                                                                            if (item.followUp == true || item.diagnosisDate == null)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="socialTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th onclick="socialTable(0)" style="width: 10%; text-align: center!important">
                                                                                            @Html.DisplayName("Date created") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(1)" style="width: 24%">
                                                                                            @Html.DisplayName("Program code") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(2)">
                                                                                            @Html.DisplayName("Program description") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(4)" style="width: 11%; text-align: center!important">
                                                                                            @Html.DisplayName("Diagnosis date") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(0)" style="width: 12%">
                                                                                            @Html.DisplayName("Created by") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(0)" style="width: 8%; text-align: center!important">
                                                                                            @Html.DisplayName("Comment")
                                                                                        </th>
                                                                                        <th onclick="socialTable(4)" style="width: 8%; text-align: center!important">
                                                                                            Action
                                                                                        </th>

                                                                                    </tr>
                                                                                </thead>

                                                                                @if (Model.summary.hivProgramDiagnoses.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="7" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.hivProgramDiagnoses)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="6" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY" style="text-align:center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.programCode)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.programDescription)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.diagnosisDate == null)
                                                                                                {
                                                                                                    <td style="text-align: center!important"> - </td>

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.diagnosisDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.createdBy)
                                                                                                    </td>
                                                                                                }

                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else if (item.generalComments == "Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "diagnosis_Details", new { Id = item.Id,pro=Context.Request.Query["pro"] }) /
                                                                                                    @Html.ActionLink("Edit", "diagnosis_Edit", new { Id = item.Id,pro=Context.Request.Query["pro"] })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                    @if (User.Identity.IsAuthenticated)
                                                                    {
                                                                        if (User.HasRole("6. Global user") || (User.HasRole("5. Super user")) || (User.HasRole("4. Advisor")))
                                                                        {
                                                                            <div class="detailsdrop">
                                                                                <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("diagnosis_Create", "Member", new { DependentID = Model.DependentID, pro=Context.Request.Query["pro"] }, null)'" />
                                                                            </div>
                                                                            <br />

                                                                        }

                                                                        else if (User.HasRole("1. Consultant") || (User.HasRole("2. Case manager")) || (User.HasRole("3. Specialist")))
                                                                        {
                                                                            <div class="detailsdrop">
                                                                                <input type="button" class="btn buttonRound_formCreate isDisabled" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" />
                                                                            </div>
                                                                            <br />

                                                                        }
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--MEDICATION/MEDIKASIE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Medication
                                                                @if (Model.hivScriptItems != null)
                                                                {
                                                                    if (Model.hivScriptItems.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.hivScriptItems)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.comment) && item.comment != "Follow up" && item.comment != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">
                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <table class="table patientHistory_Table sortable" id="scriptHistoryTable">

                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="scriptHistoryTable(2)" style="width: 110px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].icd10code) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(3)" style="width: 160px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].nappiCode) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(4)" style="width: 250px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].productName) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(6)" style="width: 230px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].itemStatus) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(7)" style="width: 220px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].fromDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(8)" style="width: 220px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].toDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="scriptHistoryTable(10)" style="width: 230px">
                                                                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].comment) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.hivScriptItems != null)
                                                                            {
                                                                                if (Model.hivScriptItems.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="7" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {

                                                                                    foreach (var item in Model.hivScriptItems)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.icd10code)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.nappiCode)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.productName)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.itemStatus)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.fromDate)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.toDate)
                                                                                                </td>
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.comment)
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <tr><td colspan="7" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--OTHER MEDICAL HISTORY/ANDER MEDIESE GESKIEDENIS-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Other Medical History
                                                                @if (Model.summary.otherMedicalHistories != null)
                                                                {
                                                                    if (Model.summary.otherMedicalHistories.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.otherMedicalHistories)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.otherMedicalHistories != null)
                                                                {
                                                                    if (Model.summary.otherMedicalHistories.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.otherMedicalHistories)
                                                                        {

                                                                            if (item.followUp == true || item.generalComments == "Follow up")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }

                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="medicalTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th style="width: 10%; text-align: center!important ">
                                                                                            @Html.DisplayName("Created date")
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important ">
                                                                                            @Html.DisplayName("Respiratory")
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important ">
                                                                                            @Html.DisplayName("Pneumonia")
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important ">
                                                                                            @Html.DisplayName("Meningitis")
                                                                                        </th>
                                                                                        <th style="width: 9%; text-align: center!important ">
                                                                                            @Html.DisplayName("Lymphadenopathy")
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important ">
                                                                                            @Html.DisplayName("Diarrhoea")
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important ">
                                                                                            @Html.DisplayName("Bladder inf")
                                                                                        </th>
                                                                                        <th style="width: 8%; text-align: center!important ">
                                                                                            @Html.DisplayName("Weight loss")
                                                                                        </th>
                                                                                        <th style="width: 8% ;text-align: center!important">
                                                                                            @Html.DisplayName("Cancer")
                                                                                        </th>
                                                                                        <th style="width: 8% ;text-align: center!important">
                                                                                            @Html.DisplayName("Immunization")
                                                                                        </th>
                                                                                        <th style="width: 8% ;text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                @if (Model.summary.otherMedicalHistories.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="11" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.otherMedicalHistories)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="10" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.respiratoryTract == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        <span style="font-size: 14px; color: forestgreen; text-align: center!important">
                                                                                                            <i class="fas fa-check-circle"
                                                                                                               title="effective date: @Html.DisplayFor(modelItem => item.respiratoryTractEffectiveDate) | comment: @item.respiratoryTractComment"></i>
                                                                                                        </span>
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.pneumonia == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        <span style="font-size: 14px; color: forestgreen; text-align: center!important">
                                                                                                            <i class="fas fa-check-circle"
                                                                                                               title="effective date: @Html.DisplayFor(modelItem => item.pneumoniaEffectiveDate) | comment: @item.pneumoniaComment"></i>
                                                                                                        </span>
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.meningitis == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        <span style="font-size: 14px; color: forestgreen; text-align: center!important">
                                                                                                            <i class="fas fa-check-circle"
                                                                                                               title="effective date: @Html.DisplayFor(modelItem => item.meningitisEffectiveDate) | comment: @item.meningitisComment"></i>
                                                                                                        </span>
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.lymphadenopathy == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        <span style="font-size: 14px; color: forestgreen; text-align: center!important">
                                                                                                            <i class="fas fa-check-circle"
                                                                                                               title="effective date: @Html.DisplayFor(modelItem => item.lymphadenopathyEffectiveDate) | comment: @item.lymphadenopathyComment"></i>
                                                                                                        </span>
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.diarrhoea == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        <span style="font-size: 14px; color: forestgreen; text-align: center!important">
                                                                                                            <i class="fas fa-check-circle"
                                                                                                               title="effective date: @Html.DisplayFor(modelItem => item.diarrhoeaEffectiveDate) | comment: @item.diarrhoeaComment"></i>
                                                                                                        </span>
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.bladderInfection == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        <span style="font-size: 14px; color: forestgreen; text-align: center!important">
                                                                                                            <i class="fas fa-check-circle"
                                                                                                               title="effective date: @Html.DisplayFor(modelItem => item.bladderInfectionEffectiveDate) | comment: @item.bladderInfectionComment"></i>
                                                                                                        </span>
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.weightLoss == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        <span style="font-size: 14px; color: forestgreen; text-align: center!important">
                                                                                                            <i class="fas fa-check-circle"
                                                                                                               title="effective date: @Html.DisplayFor(modelItem => item.weightLossEffectiveDate) | comment: @item.weightLossComment"></i>
                                                                                                        </span>
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.cancer == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        <span style="font-size: 14px; color: forestgreen; text-align: center!important">
                                                                                                            <i class="fas fa-check-circle"
                                                                                                               title="effective date: @Html.DisplayFor(modelItem => item.cancerEffectiveDate) | comment: @item.cancerComment"></i>
                                                                                                        </span>
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {

                                                                                                }
                                                                                                else if (item.immunization == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important">
                                                                                                        <span style="font-size: 14px; color: forestgreen; text-align: center!important">
                                                                                                            <i class="fas fa-check-circle"
                                                                                                               title="effective date: @Html.DisplayFor(modelItem => item.immunizationEffectiveDate) | comment: @item.immunizationComment"></i>
                                                                                                        </span>
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "otherMedicalHistory_Details", new { id = item.Id }) /
                                                                                                    @Html.ActionLink("Edit", "otherMedicalHistory_Edit", new { id = item.Id })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>
                                                                            //tableSorting
                                                                            function medicalTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("medicalTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("otherMedicalHistory_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                    </div>
                                                                    <br />

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--MONITORING BLOOD TESTS / MONTERING BLOEDTOETSE-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                Monitoring Blood Results
                                                                @if (Model.hivPathologies != null)
                                                                {
                                                                    if (Model.hivPathologies.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.hivPathologies)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.comment) && item.comment != "Follow up" && item.comment != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }

                                                                @if (Model.hivPathologies != null)
                                                                {
                                                                    if (Model.hivPathologies.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.hivPathologies)
                                                                        {

                                                                            if (item.CD4Count == 0 && item.viralLoad == 0 && item.CD4Percentage == 0)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }

                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="medicalTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th style="width: 11%; text-align: center!important ">
                                                                                            @Html.DisplayName("Created date")
                                                                                        </th>
                                                                                        <th style="width: 11%; text-align: center!important ">
                                                                                            @Html.DisplayName("CD4 count")
                                                                                        </th>
                                                                                        <th style="width: 11%; text-align: center!important ">
                                                                                            @Html.DisplayName("CD4 effective")
                                                                                        </th>
                                                                                        <th style="width: 11%; text-align: center!important ">
                                                                                            @Html.DisplayName("Viral load")
                                                                                        </th>
                                                                                        <th style="width: 11%; text-align: center!important ">
                                                                                            @Html.DisplayName("VL effective")
                                                                                        </th>
                                                                                        <th style="width: 11%; text-align: center!important ">
                                                                                            @Html.DisplayName("CD4 %")
                                                                                        </th>
                                                                                        <th style="width: 11%; text-align: center!important ">
                                                                                            @Html.DisplayName("CD4% effective")
                                                                                        </th>
                                                                                        <th style="width: 11% ;text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                @if (Model.hivPathologies.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="8" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.hivPathologies)
                                                                                    {
                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.CD4Count == 0 && item.viralLoad == 0 && item.CD4Percentage == 0)
                                                                                                {
                                                                                                    <td colspan="7" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">
                                                                                                        @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                    </td>
                                                                                                }
                                                                                                @if (item.CD4Count == 0 && item.viralLoad == 0 && item.CD4Percentage == 0)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    if (item.CD4Count == 0 || item.CD4Count.ToString() == "0.00")
                                                                                                    {
                                                                                                        <td></td>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <td>
                                                                                                            @Html.DisplayFor(modelItem => item.CD4Count)
                                                                                                        </td>
                                                                                                    }
                                                                                                }

                                                                                                @if (item.CD4Count == 0 && item.viralLoad == 0 && item.CD4Percentage == 0)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    if (item.CD4Count == 0 || item.CD4Count.ToString() == "0.00")
                                                                                                    {
                                                                                                        <td></td>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <td>
                                                                                                            @Html.DisplayFor(modelItem => item.CD4CounteffectiveDate)
                                                                                                        </td>
                                                                                                    }
                                                                                                }
                                                                                                @if (item.CD4Count == 0 && item.viralLoad == 0 && item.CD4Percentage == 0)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    if (item.viralLoad == 0 || item.viralLoad.ToString() == "0.00")
                                                                                                    {
                                                                                                        <td></td>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <td>
                                                                                                            @Html.DisplayFor(modelItem => item.viralLoad)
                                                                                                        </td>
                                                                                                    }
                                                                                                }
                                                                                                @if (item.CD4Count == 0 && item.viralLoad == 0 && item.CD4Percentage == 0)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    if (item.viralLoad == 0 || item.viralLoad.ToString() == "0.00")
                                                                                                    {
                                                                                                        <td></td>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <td>
                                                                                                            @Html.DisplayFor(modelItem => item.viralLoadeffectiveDate)
                                                                                                        </td>
                                                                                                    }
                                                                                                }
                                                                                                @if (item.CD4Count == 0 && item.viralLoad == 0 && item.CD4Percentage == 0)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    if (item.CD4Percentage == 0 || item.CD4Percentage.ToString() == "0.00")
                                                                                                    {
                                                                                                        <td></td>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <td>
                                                                                                            @Html.DisplayFor(modelItem => item.CD4Percentage)
                                                                                                        </td>
                                                                                                    }
                                                                                                }
                                                                                                @if (item.CD4Count == 0 && item.viralLoad == 0 && item.CD4Percentage == 0)
                                                                                                {
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    if (item.CD4Percentage == 0 || item.CD4Percentage.ToString() == "0.00")
                                                                                                    {
                                                                                                        <td></td>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <td>
                                                                                                            @Html.DisplayFor(modelItem => item.CD4PercentageeffectiveDate)
                                                                                                        </td>
                                                                                                    }
                                                                                                }
                                                                                                <td class="linkNav" style="text-align: center!important">
                                                                                                    <div class="contactIcon fas fa-edit" onclick="location.href='@Url.Action("EditPathology", "Member", new { id = item.pathologyID })'" title="Edit"> </div> &nbsp;
                                                                                                    <div class="contactIcon fas fa-info-circle" onclick="location.href='@Url.Action("PathologyDetails", "Member", new { id = item.pathologyID })'" title="Details"> </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>

                                                                            //tableSorting
                                                                            function medicalTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("medicalTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("CreatePathology", "Clinical", new { DependentID = Model.DependentID, pro = Context.Request.Query["pro"] }, null)'" />
                                                                    </div>
                                                                    <br />

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--GENERAL/ALGEMEEN-->
                                                <div class="col-md-12" style="z-index: 10">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading clickable panel-collapsed">
                                                            <h3 class="panel-title">
                                                                General
                                                                @if (Model.summary.hivQuestionnaireOthers != null)
                                                                {
                                                                    if (Model.summary.hivQuestionnaireOthers.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.hivQuestionnaireOthers)
                                                                        {
                                                                            if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                                break;
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                                @if (Model.summary.hivQuestionnaireOthers != null)
                                                                {
                                                                    if (Model.summary.hivQuestionnaireOthers.Count() > 0)
                                                                    {

                                                                        foreach (var item in Model.summary.hivQuestionnaireOthers)
                                                                        {

                                                                            if (item.followUp == true)
                                                                            {
                                                                                <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                                break;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </h3>
                                                            <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                        </div>
                                                        <div class="panel-body">

                                                            <div class="panelContainer">
                                                                <div class="panel-group">
                                                                    <div class="col-md-12">
                                                                        <div class="row">
                                                                            <table class="table patientHistory_Table sortable" id="otherTable">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th onclick="socialTable(3)" style="width: 10%; text-align: center!important">
                                                                                            @Html.DisplayName("Depression") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th onclick="socialTable(4)">
                                                                                            @Html.DisplayName("Comment") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>
                                                                                        <th style="width: 10%; text-align: center!important">
                                                                                            Action
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>


                                                                                @if (Model.summary.hivQuestionnaireOthers.Count() == 0)
                                                                                {
                                                                                    <tr><td colspan="3" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                                }

                                                                                else
                                                                                {
                                                                                    foreach (var item in Model.summary.hivQuestionnaireOthers)
                                                                                    {

                                                                                        <tbody>
                                                                                            <tr>
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                    <td colspan="2" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    if (item.depression == false)
                                                                                                    {
                                                                                                        <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                                    }
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->
                                                                                                @if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.depressionComment == null || item.depressionComment == "")
                                                                                                {
                                                                                                    <td>
                                                                                                        -
                                                                                                    </td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>
                                                                                                        @Html.DisplayFor(modelItem => item.depressionComment)
                                                                                                    </td>
                                                                                                }
                                                                                                <!---->
                                                                                                <!---->

                                                                                                <td class="linkNav" style="text-align: center!important">
                                                                                                    @Html.ActionLink("View", "hivOther_Details", new { id = item.QuestionnaireOtherID }) /
                                                                                                    @Html.ActionLink("Edit", "hivOther_Edit", new { id = item.QuestionnaireOtherID })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    }
                                                                                }

                                                                            </table>
                                                                        </div>
                                                                        <script>

                                                                            //tableSorting
                                                                            function otherTable(n) {
                                                                                var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                                table = document.getElementById("socialTable");
                                                                                switching = true;
                                                                                dir = "asc";

                                                                                while (switching) {
                                                                                    switching = false;
                                                                                    rows = table.getElementsByTagName("TR");

                                                                                    for (i = 1; i < (rows.length - 1); i++) {

                                                                                        shouldSwitch = false;

                                                                                        x = rows[i].getElementsByTagName("TD")[n];
                                                                                        y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                        if (dir == "asc") {
                                                                                            if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        } else if (dir == "desc") {
                                                                                            if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                                shouldSwitch = true;
                                                                                                break;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    if (shouldSwitch) {

                                                                                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                        switching = true;

                                                                                        switchcount++;
                                                                                    } else {

                                                                                        if (switchcount == 0 && dir == "asc") {
                                                                                            dir = "desc";
                                                                                            switching = true;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        </script>
                                                                    </div>

                                                                    <div class="detailsdrop">
                                                                        <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("hivOther_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                    </div>
                                                                    <br />

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr class="patientProfile_Ruler" />
                                            </div>
                                        </div>

                                        <!--Hospitalisations_TAB-->
                                        <div class="tab-pane" id="tab_default_4">

                                            <div class="contentBlock_socialRec">
                                                <h4 class="summaryHeading">Hospitalisation records</h4>
                                                <hr class="patientProfile_Ruler" />

                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <table class="table patientClinical_profileTable">
                                                            <tr>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].adminDate)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].dischargeDate)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].icd10)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].procedureCode)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].provider)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].vendor)
                                                                </th>
                                                            </tr>
                                                            @if (Model.HospitalClaims.Count() == 0)
                                                            {
                                                                <tr><td colspan="8" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                            }
                                                            else
                                                            {
                                                                foreach (var item in Model.HospitalClaims)
                                                                {
                                                                    <tr>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.adminDate)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.dischargeDate)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.icd10)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.procedureCode)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.provider)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.vendor)
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }

                                                        </table>
                                                    </div>
                                                </div>
                                                <hr class="patientProfile_Ruler" />
                                            </div>
                                        </div>

                                        <!--Consultations_TAB-->
                                        <div class="tab-pane" id="tab_default_5">
                                            <br />
                                            <p style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 25px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no consultation records at this time</p>

                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                </div>
            </div>
            <!--scriptHistory-->
            <div class="tab-5">
                <label for="tab5-5">Script history</label>
                <input id="tab5-5" name="tabs-three" type="radio">

                <div class="row tablinks">
                    <div class="form-horizontal" style="width: 100%; margin-left: 0%!important">
                        <h4 class="subHeading">Script reference history</h4>
                        <hr class="patientProfile_Ruler" />
                        <!--scriptRefHistory_Table-->
                        <table class="table patientClinical_profileTable sortable" id="scriptTable">
                            <thead>
                                <tr>
                                    <th style="width: 10%">
                                        @Html.DisplayName("Effective date") <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptTable(0)" style="width: 45%">
                                        @Html.DisplayName("Reference") <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptTable(1)" style="width: 45%">
                                        @Html.DisplayName("Attachment") <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                </tr>
                            </thead>

                            @if (Model.scriptReferences.Count() == 0)
                            {
                                <tr><td colspan="3" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                            }
                            else
                            {
                                foreach (var item in Model.scriptReferences)
                                {
                                    <tbody>
                                        <tr>
                                            <td data-dateformat="DD-MM-YYYY">
                                                @Html.DisplayFor(modelItem => item.effectiveDate)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.reference)
                                            </td>
                                            <td style="color: #003366">
                                                <a href="@Url.Action("GetImage", "Member", new { image = item.attachment, @class = "attachmentLink" })"> @Html.DisplayFor(modelItem => item.attachment)</a>
                                            </td>
                                        </tr>
                                    </tbody>
                                }
                            }

                        </table>
                        <br />
                        <hr class="patientProfile_Ruler" />
                        <br />
                        <h4 class="subHeading">Script history</h4>
                        <hr class="patientProfile_Ruler" />
                        <table class="table administration_Table sortable" id="scriptHistoryTable">

                            <thead>
                                <tr>
                                    <th style="width: 120px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].scriptID) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(1)" style="width: 110px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].itemNo) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(2)" style="width: 110px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].icd10code) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(3)" style="width: 160px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].nappiCode) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(4)" style="width: 250px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].productName) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(5)" style="width: 250px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].directions) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(6)" style="width: 230px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].itemStatus) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(7)" style="width: 220px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].fromDate) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(8)" style="width: 220px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].toDate) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(9)" style="width: 220px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].prescribingDr) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th onclick="scriptHistoryTable(10)" style="width: 230px">
                                        @Html.DisplayNameFor(model => model.ScriptItemsFull[0].comment) <i class="fa fa-fw fa-sort"></i>
                                    </th>
                                    <th style="text-align: center!important">
                                        Action
                                    </th>
                                </tr>
                            </thead>

                            @if (Model.ScriptItemsFull != null)
                            {
                                if (Model.ScriptItemsFull.Count() == 0)
                                {
                                    <tr><td colspan="12" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                }
                                else
                                {

                                    foreach (var item in Model.ScriptItemsFull)
                                    {
                                        <tbody>
                                            <tr>
                                                <td data-dateformat="DD-MM-YYYY">
                                                    @Html.DisplayFor(modelItem => item.scriptID)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.itemNo)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.icd10code)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.nappiCode)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.productName)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.directions)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.itemStatus)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.fromDate)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.toDate)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.prescribingDr)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.comment)
                                                </td>
                                                <td class="statusCode linkNav" style="text-align: center!important">
                                                    @Html.ActionLink("Details", "Details", "Scripts", new { id = item.scriptID }, null)
                                                </td>
                                            </tr>
                                        </tbody>
                                    }
                                }
                            }
                            else
                            {
                                <tr><td colspan="12" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                            }

                        </table>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
@*<script src="https://code.jquery.com/jquery-1.12.4.js"></script>*@
@*<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>*@
<script src="js/jquery.tablesorter.min.js"></script>
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>

<script src="~/bundles/jqueryval"></script>

@section scripts{

    <script>
        $(document).on('click', '.panel-heading span.clickable', function (e) {
            var $this = $(this);
            if (!$this.hasClass('panel-collapsed')) {
                $this.parents('.panel').find('.panel-body').slideUp();
                $this.addClass('panel-collapsed');
                $this.find('i').removeClass('fa-caret-up').addClass('fa-caret-down');
            } else {
                $this.parents('.panel').find('.panel-body').slideDown();
                $this.removeClass('panel-collapsed');
                $this.find('i').removeClass('fa-caret-down').addClass('fa-caret-up');
            }
        });
        $(document).on('click', '.panel div.clickable', function (e) {
            var $this = $(this);
            if (!$this.hasClass('panel-collapsed')) {
                $this.parents('.panel').find('.panel-body').slideUp();
                $this.addClass('panel-collapsed');
                $this.find('i').removeClass('fa-caret-up').addClass('fa-caret-down');
            } else {
                $this.parents('.panel').find('.panel-body').slideDown();
                $this.removeClass('panel-collapsed');
                $this.find('i').removeClass('fa-caret-down').addClass('fa-caret-up');
            }
        });
        $(document).ready(function () {
            $('.panel-heading span.clickable').click();
            $('.panel div.clickable').click();
        });


        /*Left navigationSlider*/
        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("active");
        });

        /*WaffleNavigation_Script_open*/
        $("#patientMenu-toggle").click(function (e) {
            e.preventDefault();
            $("#patientWrapper").toggleClass("active");
        });
        /*WaffleNavigation_Script_close*/
        $("#exit-toggle").click(function (e) {
            e.preventDefault();
            $("#patientWrapper").toggleClass("active");
        });

        /*specialNote*/
        $("#alert-toggle").click(function (e) {
            e.preventDefault();
            $("#alertWrapper").toggleClass("active");
        });

        /*program-popup*/
        $("#program-toggle").click(function (e) {
            e.preventDefault();
            $("#programWrapper").toggleClass("active");
        });

        //tableSearch
        var $rows = $('#scriptHistoryTable tr');
        $('#search').keyup(function () {
            var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();

            $rows.show().filter(function () {
                var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
                return !~text.indexOf(val);
            }).hide();
        });

        //scriptTable sortTable
        function scriptTable(n) {
            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
            table = document.getElementById("scriptTable");
            switching = true;
            dir = "asc";

            while (switching) {
                switching = false;
                rows = table.getElementsByTagName("TR");

                for (i = 1; i < (rows.length - 1); i++) {

                    shouldSwitch = false;

                    x = rows[i].getElementsByTagName("TD")[n];
                    y = rows[i + 1].getElementsByTagName("TD")[n];

                    if (dir == "asc") {
                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                            //if so, mark as a switch and break the loop:
                            shouldSwitch = true;
                            break;
                        }
                    } else if (dir == "desc") {
                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                            //if so, mark as a switch and break the loop:
                            shouldSwitch = true;
                            break;
                        }
                    }
                }
                if (shouldSwitch) {
                    /*If a switch has been marked, make the switch
                    and mark that a switch has been done:*/
                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                    switching = true;
                    //Each time a switch is done, increase this count by 1:
                    switchcount++;
                } else {
                    /*If no switching has been done AND the direction is "asc",
                    set the direction to "desc" and run the while loop again.*/
                    if (switchcount == 0 && dir == "asc") {
                        dir = "desc";
                        switching = true;
                    }
                }
            }
        }

        //scriptHistoryTable sortTable
        function scriptHistoryTable(n) {
            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
            table = document.getElementById("scriptHistoryTable");
            switching = true;
            dir = "asc";

            while (switching) {
                switching = false;
                rows = table.getElementsByTagName("TR");

                for (i = 1; i < (rows.length - 1); i++) {

                    shouldSwitch = false;

                    x = rows[i].getElementsByTagName("TD")[n];
                    y = rows[i + 1].getElementsByTagName("TD")[n];

                    if (dir == "asc") {
                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                            //if so, mark as a switch and break the loop:
                            shouldSwitch = true;
                            break;
                        }
                    } else if (dir == "desc") {
                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                            //if so, mark as a switch and break the loop:
                            shouldSwitch = true;
                            break;
                        }
                    }
                }
                if (shouldSwitch) {
                    /*If a switch has been marked, make the switch
                    and mark that a switch has been done:*/
                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                    switching = true;
                    //Each time a switch is done, increase this count by 1:
                    switchcount++;
                } else {
                    /*If no switching has been done AND the direction is "asc",
                    set the direction to "desc" and run the while loop again.*/
                    if (switchcount == 0 && dir == "asc") {
                        dir = "desc";
                        switching = true;
                    }
                }
            }
        }

        //clinicalRules
        function clinicalRuletable(n) {
            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
            table = document.getElementById("clinicalRuletable");
            switching = true;
            dir = "asc";

            while (switching) {
                switching = false;
                rows = table.getElementsByTagName("TR");

                for (i = 1; i < (rows.length - 1); i++) {

                    shouldSwitch = false;

                    x = rows[i].getElementsByTagName("TD")[n];
                    y = rows[i + 1].getElementsByTagName("TD")[n];

                    if (dir == "asc") {
                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                            //if so, mark as a switch and break the loop:
                            shouldSwitch = true;
                            break;
                        }
                    } else if (dir == "desc") {
                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                            //if so, mark as a switch and break the loop:
                            shouldSwitch = true;
                            break;
                        }
                    }
                }
                if (shouldSwitch) {
                    /*If a switch has been marked, make the switch
                    and mark that a switch has been done:*/
                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                    switching = true;
                    //Each time a switch is done, increase this count by 1:
                    switchcount++;
                } else {
                    /*If no switching has been done AND the direction is "asc",
                    set the direction to "desc" and run the while loop again.*/
                    if (switchcount == 0 && dir == "asc") {
                        dir = "desc";
                        switching = true;
                    }
                }
            }
        }

        //goBack
        $(function () {
            $('.go_back').click(function (e) {
                e.preventDefault();
                history.go(-1);
            });
        });

        $(document).ready(function () {
            $('#table').DataTable({
                columnDefs: [{
                    targets: [0],
                    orderData: [0, 1]
                }, {
                    targets: [1],
                    orderData: [1, 0]
                }, {
                    targets: [4],
                    orderData: [4, 0]
                }]
            });
        });

        // Javascript to enable link to tab
        var url = document.location.toString();
        if (url.match('#')) {
            $('.nav-tabs a[href="#' + url.split('#')[1] + '"]').tab('show');
        }

        // Change hash for page-reload
        $('.nav-tabs a').on('shown.bs.tab', function (e) {
            window.location.hash = e.target.hash;
        })

        $(".nav-tabs a").click(function () { });

        $(function () {
            var activeTab = $('[href=' + location.hash + ']');
            activeTab && activeTab.tab('show');
        });


    </script>
    <!--Redirect to Tab-->
    <script>
        $(document).ready(function () {
            if (localStorage.key(0) == "addPathology") {
                $("#tab5-2").attr("checked", "checked");
                localStorage.clear();
                localStorage.removeItem("addPathology");
            }
        });

        $(document).ready(function () {
            document.getElementsByTagName("html")[0].style.visibility = "visible";
            if (localStorage.key(0) == "patientClinical") {
                //var key = localStorage.key(0);
                //alert(key);
                $("#tab5-4").attr("checked", "checked");
                localStorage.clear();
                localStorage.removeItem("patientClinical");
            }
        });


    </script>

}


