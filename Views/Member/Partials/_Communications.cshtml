@model HaloCareCore.Models.ComsViewModel

<style>
    .container {
        max-width: 1600px;
        width: 1400px;
        margin: auto;
        display: block;
        padding: 0;
    }

    .contactInfo_patient {
        font-family: 'Eras ITC';
        font-size: 12px;
        font-weight: normal;
    }

    .actionButton a {
        color: #003366 !important;
    }

        .actionButton a:hover {
            color: white !important;
        }

    * {
        color: #003366;
    }

    .table tr th {
        color: black !important;
        font-weight: 600 !important;
        font-size: 10px !important;
    }

    .table tr td {
        font-size: 10px !important;
    }

    .table th:hover {
        cursor: pointer;
    }

    .noteTable {
        max-width: 1400px !important;
        width: 1350px !important;
        margin: auto;
        margin-bottom: 5% !important;
        font-size: 94% !important;
        margin-left: -3.5% !important;
        border-top: 1px solid rgba(153, 153, 153, 0.08) !important;
    }


    .checkQuest input {
        margin-left: 50% !important;
    }
</style>

<!--communicationTabs-->

<div class="row" style="margin-top: 0%">
    <div class="form-horizontal">
        <div class="col-md-12 col-sm-12">
            <div id="tabs2">

                <ul class="nav navbar-nav tablinksMember">
                    <li><a href="#coms">Enquiries</a></li>
                    <li><a href="#tabs-2">Text Message</a></li>
                    <li><a href="#tabs-3">Email</a></li>
                    <li><a href="#tabs-4">Contact Info</a></li>
                    <li><a href="#tabs-5">Notes</a></li>
                </ul>

                <!--pageHeader-->
                <div class="container zero-padding">
                    <div class="topBar_reports img-responsive">
                        <h2>Communication</h2>
                        <img src="~/Content/Images/memberProfile/topBar Icons/communicationIcon_White.png" style="width: 3.5%; margin-top: -0.2%;" />
                        <img src="~/Content/Images/Navigation/navBarIcons/haloCare_White.png" style="width: 8%; float: right; margin-right: 100px; margin-top: 3px" />
                    </div>
                </div>


                <!--Enquiries Tab-->
                <div class="row" style="margin-top:-22px; z-index: 1!important">&nbsp;</div>
                <section id="coms">
                    <div class="row tablinks">
                        <div>
                            @using (Html.BeginForm("_Communications", "Member", FormMethod.Post))
                            {
                                @Html.AntiForgeryToken()
                                <div class="form-horizontal">
                                    <div class="row">
                                        <br />
                                        <div class="actionButton">
                                            <a href="@Url.Action("Enquiries", "Member", new { DependentID = Model.queries.dependentID })" class="btn buttonRound_login" style="width: 10%; margin-top: -2%;margin-bottom: 1%; margin-left: 1%!important">New Enquiry</a>

                                        </div>
                                        <div class="col-md-12">

                                            <div class="col-md-12">
                                                <div class="row">
                                                    <table class="table fullWidth_table" id="table">
                                                        <tr>
                                                            <th onclick="sortTable(0)">
                                                                @Html.DisplayNameFor(model => model.queries.effectiveDate)
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>
                                                            <th onclick="sortTable(1)">
                                                                @Html.DisplayName("Reference #")
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>
                                                            <th onclick="sortTable(2)">
                                                                @Html.DisplayNameFor(model => model.queries.queryType)
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>
                                                            <th onclick="sortTable(8)">
                                                                @Html.DisplayNameFor(model => model.queries.enquiryBy)
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>
                                                            <th onclick="sortTable(3)">
                                                                @Html.DisplayNameFor(model => model.queries.query)
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>
                                                            <th onclick="sortTable(4)">
                                                                @Html.DisplayNameFor(model => model.queries.createdBy)
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>
                                                            <th onclick="sortTable(5)">
                                                                @Html.DisplayNameFor(model => model.queries.comment)
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>
                                                            <th onclick="sortTable(6)">
                                                                @Html.DisplayName("Enquiry Status")
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>
                                                            <th onclick="sortTable(6)">
                                                                @Html.DisplayName("Closed date")
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>
                                                            <th onclick="sortTable(6)">
                                                                @Html.DisplayNameFor(model => model.queries.Time)
                                                                <img src="~/Content/Images/memberProfile/Page Icons/columnSort.png" style="width: 6%; margin-left: 2%; margin-top: -2%;" />
                                                            </th>

                                                            <th>
                                                                Action
                                                            </th>
                                                        </tr>
                                                        @foreach (var item in Model.queriess)
                                                        {
                                                            <tr>
                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.effectiveDate)
                                                                </td>
                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.ReferenceNumber)
                                                                </td>
                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.queryType)
                                                                </td>
                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.enquiryBy)
                                                                </td>
                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.query)
                                                                </td>
                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.createdBy)
                                                                </td>
                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.comment)
                                                                </td>

                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.EnquiryStatus)
                                                                </td>
                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.resolutionDate)
                                                                </td>
                                                                <td>
                                                                    @Html.DisplayFor(modelItem => item.Time)
                                                                </td>
                                                                <td class="statusCode linkNav">
                                                                    @Html.RenderActionLink("View", "EnquiryFullView", "Member", new { QueryID = (item.ReferenceNumber != null? item.ReferenceNumber : item.queryID.ToString()) }, null)
                                                                </td>
                                                            </tr>
                                                        }

                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }

                        </div>
                        <br />
                    </div>

                </section>


                <!--Text Message Tab-->
                <section id="tabs-2">
                    <div class="row tablinks">
                        <div>
                            @using (Html.BeginForm("InsertSms", "Member", FormMethod.Post))
                            {
                                @Html.AntiForgeryToken()
                                @Html.HiddenFor(model => model.smsMessages.dependantID)
                                <div class="form-horizontal">
                                    <div class="row">
                                        <div class="row contentBlock_Text">
                                            Cellphone Number
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-6">
                                                @Html.TextBoxFor(model => model.smsMessages.cell_no, htmlAttributes: new { @class = "infoBox_Enrollment", @placeholder = "Insert Mobile Number" })
                                            </div>
                                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="row contentBlock_Text">
                                            Text Message Templates
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-6">
                                                @Html.DropDownList("templates", null, "**Select**", htmlAttributes: new { @class = "infoBox_Enrollment" })
                                            </div>
                                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="row contentBlock_Text">
                                            Text Message
                                        </div>
                                        <div class="col-md-6" style="margin-left: -1%!important">
                                            @Html.TextAreaFor(model => model.smsMessages.message, htmlAttributes: new { @class = "contentBlock_messageBox" })
                                        </div>
                                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                    </div>
                                    <br />
                                    <div class="row contentBlock_Text">
                                        Scheduled Text
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-6">
                                            @Html.EditorFor(model => model.smsMessages.effectiveDate, new { htmlAttributes = new { @class = "infoBox_Enrollment_datepicker" } })
                                        </div>
                                        @Html.ValidationMessageFor(model => model.smsMessages.effectiveDate, "", new { @class = "text-danger " })
                                    </div>
                                    <div class="form-group">
                                        <div class="actionButton" style="margin-top: 0.8%!important">
                                            <input type="submit" value="Submit" class="btn buttonRound_scriptAdd" style="width: 8%; margin-left: 12%!important" />
                                            <a href="@Url.Action("SmsHistory", "Member", new { DependentID = Model.smsMessages.dependantID })" class="btn buttonRound_login" style="width: 8%; margin-left: 1%!important">History</a>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </section>
                <!--Email Tab-->
                <section id="tabs-3">
                    <div class="row tablinks">
                        <div>
                            @using (Html.BeginForm("InsertEmail", "Member", FormMethod.Post))
                            {
                                @Html.AntiForgeryToken()
                                @Html.HiddenFor(model => model.emailMessages.dependantID)
                                <div class="form-horizontal">
                                    <div class="row">
                                        <div class="row contentBlock_Text">
                                            Email Address
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-6">
                                                @Html.TextBoxFor(model => model.emailMessages.emailTo, htmlAttributes: new { @class = "infoBox_Enrollment", @placeholder = "Email Address" })
                                            </div>
                                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-6">
                                                @Html.TextBoxFor(model => model.emailMessages.cc, htmlAttributes: new { @class = "infoBox_Enrollment", @placeholder = "CC" })
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-6">
                                                @Html.TextBoxFor(model => model.emailMessages.subject, htmlAttributes: new { @class = "infoBox_Enrollment", @placeholder = "Subject" })
                                            </div>
                                        </div>
                                        <div class="row contentBlock_Text">
                                            Email Message
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-6" style="margin-left:-0.5%">
                                                @Html.TextAreaFor(model => model.emailMessages.emailMassage, htmlAttributes: new { @class = "contentBlock_messageBox" })
                                            </div>
                                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="row contentBlock_Text">
                                            Scheduled Email
                                        </div>

                                        <div class="form-group">
                                            <div class="col-md-6">
                                                @Html.EditorFor(model => model.emailMessages.effectivedate, new { htmlAttributes = new { @class = "infoBox_Enrollment_datepicker" } })
                                            </div>
                                            @Html.ValidationMessageFor(model => model.emailMessages.effectivedate, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group">
                                            <div class="actionButton" style="margin-top: 0.8%!important">
                                                <input type="submit" value="Submit" class="btn buttonRound_scriptAdd" style="width: 8%; margin-left: 12%!important" />
                                                <a href="@Url.Action("EmailHistory", "Member", new { DependentID = Model.smsMessages.dependantID })" class="btn buttonRound_login" style="width: 8%; margin-left: 1%!important">History</a>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </section>
                <!--Contact Info Tab-->
                <section id="tabs-4">
                    <div class="row tablinks">
                        <div class="row">

                            <div class="row col-md-12 contactInfo_patient">
                                <div class="col-md-6">
                                    <h4 style="color: #003366; margin-top: 1%; margin-left: 2%; margin-bottom: 0%!important; font-size: 18px; font-family: 'Century Gothic'; font-weight: 300; font-style: normal;">Patient Contact Information</h4>
                                    <hr class="fancyruler">
                                    <div class="patientContactName">
                                        <img src="~/Content/Images/memberProfile/contactInfo/contactCardx.png" style="width: 5%; margin-top: 2.5%; position: absolute; margin-left: 8%" />
                                        <div class="col-md-4 contactInfo_drop" style="margin-left: 20%">Contact Name</div>
                                        <div class="col-md-4 contactInfo_drop">@Html.DisplayFor(model => model.contacts.contactName)</div>
                                    </div>
                                    <br />
                                    <br />
                                    <div class="patientLine1">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-4 contactInfo_drop" style="margin-left: 20%">Mobile Telephone:</div>
                                        <div class="col-md-4 contactInfo_drop">@Html.DisplayFor(model => model.contacts.cell)</div>
                                    </div>
                                    <br />
                                    <br />
                                    <div class="patientLine2">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-4 contactInfo_drop" style="margin-left: 20%">Home Telephone:</div>
                                        <div class="col-md-4 contactInfo_drop">@Html.DisplayFor(model => model.contacts.landLine)</div>
                                    </div>
                                    <br />
                                    <br />
                                    <div class="patientLine3">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-4 contactInfo_drop" style="margin-left: 20%">Work Telephone:</div>
                                        <div class="col-md-4 contactInfo_drop">@Html.DisplayFor(model => model.contacts.workNo)</div>
                                    </div>
                                    <br />
                                    <br />
                                    <div class="patientLine4">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-4 contactInfo_drop" style="margin-left: 20%">Email Address:</div>
                                        <div class="col-md-4 contactInfo_drop">@Html.DisplayFor(model => model.contacts.email)</div>
                                    </div>
                                    <br />
                                    <br />
                                    <div class="patientLine5">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-4 contactInfo_drop" style="margin-left: 20%">Alternative 1:</div>
                                        <div class="col-md-4 contactInfo_drop"></div>
                                    </div>
                                    <br />
                                    <br />

                                </div>
                                <div class="col-md-6">
                                    <h4 style="color: #003366; margin-top: 1%; margin-left: 2%; margin-bottom: 0%!important; font-size: 18px; font-family: 'Century Gothic'; font-weight: 300; font-style: normal;">Patient Address Information</h4>
                                    <hr class="fancyruler">
                                    <div class="addressLine">
                                        <img src="~/Content/Images/memberProfile/contactInfo/address.png" style="width: 3%; margin-top: 2.5%; position: absolute; margin-left: 8%" />
                                        <div class="col-md-3 contactInfo_drop" style="margin-left: 20%">Address Information:</div>
                                    </div>
                                    <div class="addressLine">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-6 contactInfo_drop" style="margin-left: 20%; font-weight: 200">@Html.DisplayFor(model => model.address.line1)</div>
                                    </div>
                                    <div class="addressLine">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-6 contactInfo_drop" style="margin-left: 20%; font-weight: 200">@Html.DisplayFor(model => model.address.line2)</div>
                                    </div>
                                    <div class="addressLine">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-6 contactInfo_drop" style="margin-left: 20%; font-weight: 200">@Html.DisplayFor(model => model.address.line3)</div>
                                    </div>
                                    <div class="addressLine">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-6 contactInfo_drop" style="margin-left: 20%; font-weight: 200">@Html.DisplayFor(model => model.address.city)</div>
                                    </div>
                                    <div class="addressLine">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-6 contactInfo_drop" style="margin-left: 20%; font-weight: 200">@Html.DisplayFor(model => model.address.province)</div>
                                    </div>
                                    <div class="addressLine">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-6 contactInfo_drop" style="margin-left: 20%; font-weight: 200">@Html.DisplayFor(model => model.address.zip)</div>
                                    </div>
                                    <div class="addressLine">
                                        <img class="imagePlaceholder">
                                        <div class="col-md-6 contactInfo_drop" style="margin-left: 20%; font-weight: 200">&nbsp;</div>
                                    </div>
                                    <br />
                                    <br />
                                </div>

                            </div>
                            <br />
                            <div class="row col-md-12">
                                <div class="col-md-6">
                                    <hr class="fancyruler">
                                    <div class="row">
                                        <input type="button" class="btn buttonRound_login" style="width: 20%; margin-left: 5%!important" value="Add Contact" onclick="location.href='@Url.Action("AddContact", "Member", new { id = Model.queries.dependentID })'" />
                                        <input type="button" class="btn buttonRound_login" style="width: 20%; margin-left: 5%!important" value="Edit Contact" onclick="location.href='@Url.Action("EditContact", "Member", new { id = Model.contacts.ContactID })'" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <hr class="fancyruler">
                                    <div class="row">
                                        <input type="button" class="btn buttonRound_login" style="width: 20%; margin-left: 5%!important" value="Add Address" onclick="location.href='@Url.Action("AddAddress", "Member", new { id = Model.queries.dependentID })'" />
                                        <input type="button" class="btn buttonRound_login" style="width: 20%; margin-left: 5%!important" value="Edit Address" onclick="location.href='@Url.Action("EditAddress", "Member", new { id = Model.address.addressID })'" />
                                    </div>
                                </div>

                            </div>
                            <br />
                            <br />

                        </div>
                    </div>
                </section>
                <!--Notes Tab-->
                <section id="tabs-5">
                    <div class="row tablinks">
                        <div>
                            <div class="form-horizontal">

                                <div class="container zero-padding">
                                    <div>
                                        <a class="foo" href="@Url.Action("AddNote", "Member", new { DependentID = Model.emailMessages.dependantID }, null)">
                                            <img src="~/Content/Images/memberProfile/Page Icons/addButton_skinnyGray.png" style="width: 2.5%; margin-top: -1%!important; margin-bottom: 0%; margin-left: 65%; margin-right: -98%; position: relative; z-index: 0" />
                                            <img src="~/Content/Images/memberProfile/Page Icons/addButton_DarkGray.png" style="width: 2.5%; margin-top: -1%!important; margin-bottom: 0%; margin-left: 65%; margin-right: -98%; position: relative; z-index: 0" />
                                        </a>
                                    </div>
                                </div>
                                <div>
                                    <p style="color: #303643; font-family: 'Eras ITC'; font-weight: 100; margin-left: 80%; margin-top: -2.2%; margin-bottom: 2%">Add</p>
                                </div>

                                <div class="indexSearch" style="margin-top: -7.2%!important; margin-bottom: 0%">
                                    <label for="tableSearch" class="control-label"></label> <input type="text" class="form-control-search" id="search" onkeyup="myFunction()" placeholder="Search..." style="width: 150px; margin-top: 1.6%; margin-left: 85%; position: relative" />
                                    <div class="searchIcon">
                                        <img src="~/Content/Images/memberProfile/Search_gray.png" style="width: 0.8%!important; margin-left: 95.9%; margin-top: -3.9%; position: relative" />
                                    </div>
                                </div>

                                <!--noteTable-->

                                <div class="row">

                                    <table class="table noteTable" id="table">
                                        <tr>
                                            <th style="width: 100px">
                                                @Html.DisplayName("Date")
                                            </th>
                                            <th style="width: 100px">
                                                @Html.DisplayName("ID")
                                            </th>
                                            <th style="width: 100px">
                                                @Html.DisplayName("Type")
                                            </th>
                                            <th style="width: 150px">
                                                @Html.DisplayName("Created By")
                                            </th>
                                            <th>
                                                @Html.DisplayName("Note")
                                            </th>


                                        </tr>
                                        @if (Model.notes.Count() == 0)
                                        {
                                            <tr><td>No records available</td></tr>
                                        }
                                        else
                                        {
                                            foreach (var item in Model.notes)
                                            {
                                                <tr>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.effectiveDate)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.noteID)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.noteType)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.createdBy)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.note)
                                                    </td>



                                                </tr>

                                            }
                                        }
                                    </table>
                                </div>

                                <!--noteTable-->

                            </div>
                        </div>

                    </div>
                    <div class="row">&nbsp;</div>
                </section>
                <!--
                <section id="tabs-6">
                    <div class="contentBlock_patientHistory">
                        <h4 style="color: #003366">Email <span style="color: #0081b3">Enquiries</span></h4>
                        <hr class="block_Ruler">
                        <div class="row">
                            <br />
                            <div id="tab">
                                <ul class="nav navbar-nav tablinksMember">
                                    <li><a href="#tab1">Email</a></li>
                                    <li><a href="#tab2">History</a></li>
                                </ul>
                                <div class="row">&nbsp;</div>
                                <section id="tab1">
                                    <div class="row tablinks">
                                        <div>
                                            @using (Html.BeginForm("InsertEmail", "Member", FormMethod.Post))
                                            {
                                                @Html.AntiForgeryToken()
                                                @Html.HiddenFor(model => model.emailMessages.dependantID)
                                                <div class="form-horizontal">
                                                    <div class="contentBlock_patientHistory">
                                                        <h4 style="color: #003366">Communication <span style="color: #0081b3">- Email</span></h4>
                                                        <hr class="block_Ruler">
                                                        <div class="row">
                                                            <br />
                                                            <div class="row contentBlock_Text">
                                                                Email Address
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-md-6">
                                                                    @Html.TextBoxFor(model => model.emailMessages.emailTo, htmlAttributes: new { @class = "contentBlock_Info", @placeholder = "Insert Email Address" })
                                                                </div>
                                                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-md-6">
                                                                    @Html.TextBoxFor(model => model.emailMessages.cc, htmlAttributes: new { @class = "contentBlock_Info", @placeholder = "CC" })
                                                                </div>
                                                            </div><br />
                                                            <div class="form-group">
                                                                <div class="col-md-6">
                                                                    @Html.TextBoxFor(model => model.emailMessages.subject, htmlAttributes: new { @class = "contentBlock_Info", @placeholder = "Subject" })
                                                                </div>
                                                            </div>
                                                            <div class="row contentBlock_Text">
                                                                Email Message
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-md-6">
                                                                    @Html.TextAreaFor(model => model.emailMessages.emailMassage, htmlAttributes: new { @class = "contentBlock_messageBox" })
                                                                </div>
                                                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                                            </div>
                                                            <br />
                                                            <div class="row contentBlock_Text">
                                                                Scheduled Email
                                                            </div>

                                                            <div class="form-group">
                                                                <div class="col-md-6">
                                                                    @Html.EditorFor(model => model.emailMessages.effectivedate, new { htmlAttributes = new { @class = "datepicker-contentBlock_Info datepicker" } })
                                                                </div>
                                                                @Html.ValidationMessageFor(model => model.emailMessages.effectivedate, "", new { @class = "text-danger" })
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="actionButton">
                                                                    <input type="submit" value="Submit" class="btn buttonRound_scriptAdd" style="width: 6%; margin-left: 1.5%!important" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }
                                        </div>

                                    </div>
                                </section>
                                <section id="tab2">
                                    <div class="row tablinks">
                                        <div class="form-horizontal">
                                            <div class="contentBlock_patientHistory">

                                            </div>
                                        </div>
                                    </div>
                                </section>

                            </div>
                        </div>
                    </div>
                </section>-->

            </div>
        </div>
    </div>
</div>
<br />
<br />
<br />
<br />
<br />




<script src="js/jquery.tablesorter.min.js"></script>

<!-- Search -->
@section scripts{
    <script src="~/bundles/jqueryval"></script>


    <script type="text/javascript">

        var minimized_elements = $('p.minimize');

        minimized_elements.each(function () {
            var t = $(this).text();
            if (t.length < 100) return;

            $(this).html(
                t.slice(0, 100) + '<span>... </span><a href="#" class="more">More</a>' +
                '<span style="display:none;">' + t.slice(100, t.length) + ' <a href="#" class="less">Less</a></span>'
            );

        });

        $('a.more', minimized_elements).click(function (event) {
            event.preventDefault();
            $(this).hide().prev().hide();
            $(this).next().show();
        });

        $('a.less', minimized_elements).click(function (event) {
            event.preventDefault();
            $(this).parent().hide().prev().show().prev().show();
        });

        var $rows = $('#table tr');
        $('#search').keyup(function () {
            var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();

            $rows.show().filter(function () {
                var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
                return !~text.indexOf(val);
            }).hide();
        });


        function sortTable(n) {
            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
            table = document.getElementById("table");
            switching = true;
            dir = "asc";

            while (switching) {
                switching = false;
                rows = table.getElementsByTagName("TR");

                for (i = 1; i < (rows.length - 1); i++) {

                    shouldSwitch = false;

                    x = rows[i].getElementsByTagName("TD")[n];
                    y = rows[i + 1].getElementsByTagName("TD")[n];

                    if (dir == "asc") {
                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                            //if so, mark as a switch and break the loop:
                            shouldSwitch = true;
                            break;
                        }
                    } else if (dir == "desc") {
                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                            //if so, mark as a switch and break the loop:
                            shouldSwitch = true;
                            break;
                        }
                    }
                }
                if (shouldSwitch) {
                    /*If a switch has been marked, make the switch
                    and mark that a switch has been done:*/
                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                    switching = true;
                    //Each time a switch is done, increase this count by 1:
                    switchcount++;
                } else {
                    /*If no switching has been done AND the direction is "asc",
                    set the direction to "desc" and run the while loop again.*/
                    if (switchcount == 0 && dir == "asc") {
                        dir = "desc";
                        switching = true;
                    }
                }
            }
        }

        $(function () {
            $('.go_back').click(function (e) {
                e.preventDefault();
                history.go(-1);
            });
        });

        $(document).ready(function () {
            $('#table').DataTable({
                columnDefs: [{
                    targets: [0],
                    orderData: [0, 1]
                }, {
                    targets: [1],
                    orderData: [1, 0]
                }, {
                    targets: [4],
                    orderData: [4, 0]
                }]
            });
        });


        $('#zoomBtn').click(function () {
            $('.zoom-btn-sm').toggleClass('scale-out');
            if (!$('.zoom-card').hasClass('scale-out')) {
                $('.zoom-card').toggleClass('scale-out');
            }
        });

        $('.zoom-btn-sm').click(function () {
            var btn = $(this);
            var card = $('.zoom-card');
            if ($('.zoom-card').hasClass('scale-out')) {
                $('.zoom-card').toggleClass('scale-out');
            }
            if (btn.hasClass('zoom-btn-person')) {
                card.css('background-color', '#d32f2f');
            } else if (btn.hasClass('zoom-btn-doc')) {
                card.css('background-color', '#fbc02d');
            } else if (btn.hasClass('zoom-btn-tangram')) {
                card.css('background-color', '#388e3c');
            } else if (btn.hasClass('zoom-btn-report')) {
                card.css('background-color', '#1976d2');
            } else {
                card.css('background-color', '#7b1fa2');
            }
        });

        // Javascript to enable link to tab
        var url = document.location.toString();
        if (url.match('#')) {
            $('.nav-tabs a[href="#' + url.split('#')[1] + '"]').tab('show');
        }

        // Change hash for page-reload
        $('.nav-tabs a').on('shown.bs.tab', function (e) {
            window.location.hash = e.target.hash;
        })

        $(".nav-tabs a").click(function () { });

    </script>
}




