@model HaloCareCore.Models.ClinicalViewModel
@using HaloCareCore.Extensions
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{
    ViewBag.Title = "Clinical";
    Layout = "~/Views/Shared/_LayoutMember.cshtml";
}


<style>
    body {
        background-color: #f9f9fc !important;
    }

    #plusSubmit {
        position: relative;
        z-index: 1;
        left: -25px;
        top: 1px;
        color: #7B7B7B;
        cursor: pointer;
        width: 0;
    }

    .filterable {
        margin-top: 15px;
    }

        .filterable .panel-heading .pull-right {
            margin-top: -20px;
        }

        .filterable .filters input[disabled] {
            background-color: transparent;
            border: none;
            cursor: auto;
            box-shadow: none;
            padding: 0;
            height: auto;
        }

        .filterable .filters::-webkit-input-placeholder {
            color: #ccc !important;
        }

        .filterable .filters::-moz-placeholder {
            color: #ccc !important;
        }

        .filterable .filters:-ms-input-placeholder {
            color: #ccc !important;
        }

    .reset:hover {
        cursor: pointer;
        background: -webkit-linear-gradient(#e80a89, #f15b2a);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .isDisabled {
        color: currentColor;
        cursor: no-drop !important;
        opacity: 0.5;
        text-decoration: none;
    }
</style>

<!--dateSort_JQ-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
<script src="https://www.jqueryscript.net/demo/jQuery-Plugin-For-Sortable-Bootstrap-Tables-Bootstrap-Sortable/Scripts/bootstrap-sortable.js"></script>

<!--pageHeader-->
<nav id="global-nav" class="nav" style="z-index: 10000">
    <div class="pull-left title">
        <h1 class="site-title_patientProfile">
            <span><i class="fas fa-file-medical-alt"></i>&emsp; Patient clinical</span>
        </h1>
    </div>
    <div class="pull-right title">
        <h1 class="site-title_userID pull-right">
            <div class="halocareLogo"><img src="~/Content/Images/Navigation/navBarIcons/haloCare_White.png" /></div>
        </h1>
        <h1 class="site-title_userID pull-right">
            @if (HttpContextAccessor.HttpContext.Session.GetString("Init") != null)
            {
                <span href="#" id="userMenu-toggle"><span class="initials_Avatar" style="color: white!important; font-size: 16px">@HttpContextAccessor.HttpContext.Session.GetString("Init").ToString() </span></span>
            }
        </h1>
        <h1 class="site-waffleIcon pull-right">
            <span href="#" id="patientMenu-toggle"><span class="waffleIcon" style="color: white!important; font-size: 12px"><i class="fas fa-th"></i></span></span>
        </h1>
    </div>
</nav>

<div class="dashboardContainer zero-padding">
    <div class="patientDashboard_View">

        <!--breadCrumbs-->
        <ul class="breadcrumbs_patientDashboard">
            <li style="font-size: 12px; color: #0081b3; font-weight: 200">You are here:</li>
            <li><a href="@Url.Action("Index", "Administration", new {})">Home</a></li>
            <li><a href="@Url.Action("patientDashboard", "Member", new { DependentID = Context.Request.Query["DependentID"]})">Patient</a></li>
            <li><a href="#">Clinical</a></li>
        </ul>

        <!--Left navSlider -->
        @Html.Partial("_navSlider", new { DependentID = Context.Request.Query["DependentID"] })

        <!--navCollection-->
        <div class="navCollection_patientDashboard">
            @Html.Partial("_navCollection")
        </div>

        <!--profileInformation-->
        <div class="profileBar">
            @Html.RenderAction("_profileBar_edit", "Member", new { DependentID = Context.Request.Query["DependentID"], pro = Context.Request.Query["pro"] })
        </div>
    </div>

    <div style="margin-bottom: 8.5%"></div>

    <div class="patientDashboard_container">
        <h4 class="summaryHeading">Patient clinical</h4>
        <hr class="patientProfile_Ruler" />
        <div class="tabs" style="margin-left: 0.5%">
            <!--summary-->
            <div class="tab-5">
                <label for="tab5-1">Clinical Profile</label>
                <input id="tab5-1" name="tabs-three" type="radio" checked="checked">

                <div>

                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#summary" aria-controls="summary" role="tab" data-toggle="tab">Summary</a></li>
                        <li role="presentation"><a href="#clinical" aria-controls="clinical" role="tab" data-toggle="tab">Clinical alerts</a></li>
                        <li role="presentation"><a href="#general" aria-controls="general" role="tab" data-toggle="tab">General information</a></li>
                        <li role="presentation"><a href="#test" aria-controls="test" role="tab" data-toggle="tab">Test results</a></li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="summary">A</div>
                        <div role="tabpanel" class="tab-pane" id="clinical">B</div>
                        <div role="tabpanel" class="tab-pane" id="general">C</div>
                        <div role="tabpanel" class="tab-pane" id="test">D</div>
                    </div>

                </div>
            </div>

            <div class="tab-5" id="pathology">
                <label for="tab5-2">Treatment</label>
                <input id="tab5-2" name="tabs-three" type="radio">

                <div class="row tablinks">
                </div>
            </div>

            <div class="tab-5">
                <label for="tab5-3">Adherence</label>
                <input id="tab5-3" name="tabs-three" type="radio">

                <div class="contentBlock_patientHistory">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="tabbable-panel">
                                <div class="tabbable-line">
                                    <!--navigationTabs-->
                                    <ul class="nav nav-tabs ">
                                        <li class="active">
                                            <a href="#tab_default_1" data-toggle="tab">
                                                Clinical
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#tab_default_2" data-toggle="tab">
                                                Hospitalisations
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#tab_default_3" data-toggle="tab">
                                                Consultations
                                            </a>
                                        </li>
                                    </ul>
                                    <!--navigationContent-->
                                    <div class="tab-content">

                                        <!--clinicalHistory_TAB-->
                                        <div class="tab-pane active" id="tab_default_1">
                                            <!--Patient record-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Patient information
                                                            @if (Model.summary.clinicalexams != null)
                                                            {
                                                                if (Model.summary.clinicalexams.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.clinicalexams)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.clinicalComment) && item.clinicalComment != "Follow up" && item.clinicalComment != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.summary.clinicalexams != null)
                                                            {
                                                                if (Model.summary.clinicalexams.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.clinicalexams)
                                                                    {

                                                                        if (item.followUp == true)
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="clinicalTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        @Html.DisplayNameFor(model => model.summary.clinicalexams[0].createdDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th>
                                                                                        @Html.DisplayNameFor(model => model.summary.clinicalexams[0].effectiveDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(1)">
                                                                                        @Html.DisplayNameFor(model => model.summary.clinicalexams[0].height) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(2)">
                                                                                        @Html.DisplayNameFor(model => model.summary.clinicalexams[0].weight) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(3)">
                                                                                        @Html.DisplayNameFor(model => model.summary.clinicalexams[0].bmi) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(4)">
                                                                                        @Html.DisplayNameFor(model => model.summary.clinicalexams[0].bodyServiceArea) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(5)">
                                                                                        @Html.DisplayNameFor(model => model.summary.clinicalexams[0].createdBy) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(6)" style="text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.clinicalexams[0].programType) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="clinicalTable(7)" style="text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.clinicalexams[0].clinicalComment)
                                                                                    </th>

                                                                                    <th style="text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>
                                                                            @if (Model.summary.clinicalexams.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="10" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.clinicalexams)
                                                                                {
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="9" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY">@Html.DisplayFor(modelItem => item.createdDate)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY">
                                                                                                    @Html.DisplayFor(modelItem => item.effectiveDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.height)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.weight)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.bmi)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.bodyServiceArea)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.createdBy)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.clinicalComment == "None" || item.clinicalComment == "none" || item.clinicalComment == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.clinicalComment == null || item.clinicalComment == " " || item.clinicalComment == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.clinicalComment"></i></span></td>
                                                                                            }

                                                                                            <td class="linkNav" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "DetailsClinicalExam", new { id = item.id }) /
                                                                                                @Html.ActionLink("Edit", "EditClinicalExam", new { id = item.id })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>

                                                                        //tableSorting
                                                                        function clinicalTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("clinicalTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("AddClinical", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Diagnosis-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Diagnosis
                                                            @if (Model.summary.programDiagnoses != null)
                                                            {
                                                                if (Model.summary.programDiagnoses.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.programDiagnoses)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.Comment) && item.Comment != "Follow up" && item.Comment != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.summary.programDiagnoses != null)
                                                            {
                                                                if (Model.summary.programDiagnoses.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.programDiagnoses)
                                                                    {
                                                                        if (item.FollowUp == true || item.EffectiveDate == null)
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="socialTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="socialTable(0)" style="width: 10%; text-align: center!important">
                                                                                        @Html.DisplayName("Date created") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(1)" style="width: 24%">
                                                                                        @Html.DisplayName("Program code") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(2)">
                                                                                        @Html.DisplayName("Program description") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(4)" style="width: 11%; text-align: center!important">
                                                                                        @Html.DisplayName("Diagnosis date") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(0)" style="width: 12%">
                                                                                        @Html.DisplayName("Created by") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(0)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Comment")
                                                                                    </th>
                                                                                    <th onclick="socialTable(4)" style="width: 8%; text-align: center!important">
                                                                                        Action
                                                                                    </th>

                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.summary.programDiagnoses.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="7" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.programDiagnoses)
                                                                                {
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            @if (item.FollowUp == true)
                                                                                            {
                                                                                                <td colspan="6" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY" style="text-align:center!important">
                                                                                                    @Html.DisplayFor(modelItem => item.CreatedDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.FollowUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.ProgramCode)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.FollowUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.ProgramDescription)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.FollowUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.EffectiveDate == null)
                                                                                            {
                                                                                                <td style="text-align: center!important"> - </td>

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">
                                                                                                    @Html.DisplayFor(modelItem => item.EffectiveDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.FollowUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.CreatedBy)
                                                                                                </td>
                                                                                            }

                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.FollowUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.Comment == "None" || item.Comment == "none" || item.Comment == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.Comment == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else if (item.Comment == null || item.Comment == " " || item.Comment == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.Comment"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->

                                                                                            <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "diagnosis_Details", new { Id = item.Id }) /
                                                                                                @Html.ActionLink("Edit", "diagnosis_Edit", new { Id = item.Id })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                @if (User.Identity.IsAuthenticated)
                                                                {
                                                                    if (User.HasRole("6. Global user") || (User.HasRole("5. Super user")) || (User.HasRole("4. Advisor")))
                                                                    {
                                                                        <div class="detailsdrop">
                                                                            <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("diagnosis_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                        </div>
                                                                        <br />

                                                                    }

                                                                    else if (User.HasRole("1. Consultant") || (User.HasRole("2. Case manager")) || (User.HasRole("3. Specialist")))
                                                                    {
                                                                        <div class="detailsdrop">
                                                                            <input type="button" class="btn buttonRound_formCreate isDisabled" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" />
                                                                        </div>
                                                                        <br />

                                                                    }
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--CoMorbidities-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Co-Morbidities
                                                            @if (Model.CoMorbids != null)
                                                            {
                                                                if (Model.CoMorbids.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.CoMorbids)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.CoMorbids != null)
                                                            {
                                                                if (Model.CoMorbids.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.CoMorbids)
                                                                    {
                                                                        if (item.followUp == true || item.generalComments == "Follow up")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="socialTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="socialTable(0)" style="width: 11%">
                                                                                        @Html.DisplayName("Date created") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(1)">
                                                                                        @Html.DisplayName("Condition") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(2)" style="width: 11%">
                                                                                        @Html.DisplayName("ICD-10") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(3)" style="width: 11%; text-align: center!important">
                                                                                        @Html.DisplayName("Effective date") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(4)" style="width: 11%; text-align: center!important">
                                                                                        @Html.DisplayName("End date") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(5)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Comment")
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Action
                                                                                    </th>

                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.CoMorbids.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="8" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                foreach (var item in Model.CoMorbids)
                                                                                {
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="7" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY">
                                                                                                    @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.coMorbidId == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.coMorbidId)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.coMorbidId == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.ICD10Code)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.effectiveDate == null)
                                                                                            {
                                                                                                <td style="text-align: center!important"> - </td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">
                                                                                                    @Html.DisplayFor(modelItem => item.effectiveDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.treatementEndDate == null)
                                                                                            {
                                                                                                <td style="text-align: center!important"> - </td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">
                                                                                                    @Html.DisplayFor(modelItem => item.treatementEndDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.generalComments == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "DetailsComorbid", new { Id = item.id }) /
                                                                                                @Html.ActionLink("Edit", "EditComorbid", new { Id = item.id })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>
                                                                        //tableSorting
                                                                        function socialTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("socialTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                @if (User.Identity.IsAuthenticated)
                                                                {
                                                                    if (User.HasRole("6. Global user") || (User.HasRole("5. Super user")) || (User.HasRole("4. Advisor")))
                                                                    {
                                                                        <div class="detailsdrop">
                                                                            <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("AddComorbid", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                        </div>
                                                                        <br />

                                                                    }

                                                                    else if (User.HasRole("1. Consultant") || (User.HasRole("2. Case manager")) || (User.HasRole("3. Specialist")))
                                                                    {
                                                                        <div class="detailsdrop">
                                                                            <input type="button" class="btn buttonRound_formCreate isDisabled" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" />
                                                                        </div>
                                                                        <br />

                                                                    }
                                                                }


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--medicationRecord-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Medication
                                                            @if (Model.summary.meds != null)
                                                            {
                                                                if (Model.summary.meds.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.meds)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.comment) && item.comment != "Follow up" && item.comment != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.summary.meds != null)
                                                            {
                                                                if (Model.summary.meds.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.meds)
                                                                    {

                                                                        if (item.followUp == true || item.directions == "Follow up" || item.comment == "Follow up")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }

                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="medicalTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="medicalTable(1)" style="text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.meds[0].createdDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="medicalTable(2)" style="text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.meds[0].nappiCode) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="medicalTable(3)">
                                                                                        @Html.DisplayNameFor(model => model.summary.meds[0].productName) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="medicalTable(4)">
                                                                                        @Html.DisplayNameFor(model => model.summary.meds[0].directions) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="medicalTable(5)" style="text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.meds[0].startDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="medicalTable(6)" style="text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.meds[0].endDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="medicalTable(7)">
                                                                                        @Html.DisplayNameFor(model => model.summary.meds[0].createdBy) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="medicalTable(8)" style="width: 8%; text-align: center!important ">
                                                                                        @Html.DisplayNameFor(model => model.summary.meds[0].programType) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th style="width: 8% ;text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.meds[0].comment)
                                                                                    </th>
                                                                                    <th style="width: 8% ;text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>
                                                                            @if (Model.summary.meds.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="10" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.meds)
                                                                                {
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="9" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">
                                                                                                    @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.nappiCode == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.nappiCode)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.productName == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.DisplayFor(modelItem => item.productName)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.directions == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.DisplayFor(modelItem => item.directions)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.startDate == null)
                                                                                            {
                                                                                                <td style="text-align: center!important">-</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">@Html.DisplayFor(modelItem => item.startDate)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.endDate == null)
                                                                                            {
                                                                                                <td style="text-align: center!important">-</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">@Html.DisplayFor(modelItem => item.endDate)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.DisplayFor(modelItem => item.createdBy)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.comment == "None" || item.comment == "none" || item.comment == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.comment == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else if (item.comment == null || item.comment == " " || item.comment == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.comment"></i></span></td>
                                                                                            }
                                                                                            <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "DetailsMedication", new { id = item.Id }) /
                                                                                                @Html.ActionLink("Edit", "EditMedication", new { id = item.Id })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>

                                                                        //tableSorting
                                                                        function medicalTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("medicalTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("AddMeds", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--allergyRecord-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Allergy
                                                            @if (Model.summary.allergies != null)
                                                            {
                                                                if (Model.summary.allergies.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.allergies)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.summary.allergies != null)
                                                            {
                                                                if (Model.summary.allergies.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.allergies)
                                                                    {
                                                                        if (item.followUp == true || item.Allergy == "Follow up" || item.generalComments == "Follow up")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>

                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="allergyTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        @Html.DisplayNameFor(model => model.summary.allergies[0].createdDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="allergyTable(1)">
                                                                                        @Html.DisplayNameFor(model => model.summary.allergies[0].Allergy) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="allergyTable(2)">
                                                                                        @Html.DisplayNameFor(model => model.summary.allergies[0].createdBy) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="allergyTable(3)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.allergies[0].programType) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="allergyTable(4)" style="width: 8% ;text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.summary.allergies[0].generalComments)
                                                                                    </th>
                                                                                    <th style="width: 8% ;text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>
                                                                            @if (Model.summary.allergies.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="6" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.allergies)
                                                                                {

                                                                                    <tbody>
                                                                                        <tr>
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="5" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY">
                                                                                                    @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->

                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.Allergy == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.DisplayFor(modelItem => item.Allergy)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.DisplayFor(modelItem => item.createdBy)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.generalComments == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->

                                                                                            <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "DetailsAllergies", new { id = item.id }) /
                                                                                                @Html.ActionLink("Edit", "EditAllergies", new { id = item.id })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>
                                                                        //tableSorting
                                                                        function allergyTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("allergyTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("AddAllergies", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--SocialRecord-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Social
                                                            @if (Model.summary.questionaires != null)
                                                            {
                                                                if (Model.summary.questionaires.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.questionaires)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.socialComment) && item.socialComment != "Follow up" && item.socialComment != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.summary.questionaires != null)
                                                            {
                                                                if (Model.summary.questionaires.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.questionaires)
                                                                    {

                                                                        if (item.followUp == true)
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="socialTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        @Html.DisplayName("Created date") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(1)" style="text-align: center!important">
                                                                                        @Html.DisplayName("Smoker") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(2)">
                                                                                        @Html.DisplayName("Daily amount") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(2)" style="text-align: center!important">
                                                                                        @Html.DisplayName("Years") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(3)" style="text-align: center!important">
                                                                                        @Html.DisplayName("Drinker") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(4)">
                                                                                        @Html.DisplayName("Amount") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(5)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Comment")
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.summary.questionaires.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="9" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }

                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.questionaires)
                                                                                {

                                                                                    <tbody>
                                                                                        <tr>
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="8" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY">@Html.DisplayFor(model => item.createdDate)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.smoker == false)
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times-circle"></i></span></td>
                                                                                            }
                                                                                            else if (item.smoker == true)
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check-circle"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.NoCigs == null)
                                                                                            {
                                                                                                <td style="text-align: center!important">-</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(model => item.NoCigs)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.smokingYears == null)
                                                                                            {
                                                                                                <td style="text-align: center!important">-</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">
                                                                                                    @Html.DisplayFor(model => item.smokingYears)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.drinker == false)
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times-circle"></i></span></td>
                                                                                            }
                                                                                            else if (item.drinker == true)
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check-circle"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.NrDrinks == null)
                                                                                            {
                                                                                                <td style="text-align: center!important">-</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(model => item.NrDrinks)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.socialComment == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>

                                                                                            }
                                                                                            else if (item.socialComment == "None" || item.socialComment == "none" || item.socialComment == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.socialComment == null || item.socialComment == " " || item.socialComment == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.socialComment != null || item.socialComment != " " || item.socialComment != "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px;color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.socialComment"></i></span></td>
                                                                                            }

                                                                                            <!---->
                                                                                            <!---->
                                                                                            <td class="linkNav" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "Details_socialRecord", new { id = item.id }) /
                                                                                                @Html.ActionLink("Edit", "Edit_socialRecord", new { id = item.id })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>

                                                                        //tableSorting
                                                                        function socialTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("socialTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("Create_socialRecord", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Vision record-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Vision

                                                            @if (Model.summary.visions != null)
                                                            {
                                                                if (Model.summary.visions.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.visions)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.summary.visions != null)
                                                            {
                                                                if (Model.summary.visions.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.visions)
                                                                    {

                                                                        if (item.followUp == true)
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="artDiseaseTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th style="width: 12%">
                                                                                        @Html.DisplayName("Created") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(0)" style="width: 22%">
                                                                                        @Html.DisplayName("Vision") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(1)" style="width: 22%">
                                                                                        @Html.DisplayName("Treatments") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(2)" style="width: 15%">
                                                                                        @Html.DisplayName("Created by") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(3)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Comment
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.summary.visions.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="7" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }

                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.visions)
                                                                                {
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="6" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY">@Html.DisplayFor(model => item.createdDate)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.vision == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.Raw(Html.Encode(item.vision).Replace(",", "<br />" + "	"))</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.eyeTreatment == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.Raw(Html.Encode(item.eyeTreatment).Replace(",", "<br />" + "	"))</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.DisplayFor(model => item.createdBy)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.generalComments == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            <td class="linkNav" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "vision_Details", new { id = item.VisionID }) /
                                                                                                @Html.ActionLink("Edit", "vision_Edit", new { id = item.VisionID })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>
                                                                        //tableSorting
                                                                        function visionTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("socialTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("vision_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--PodiatryRecord-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Podiatry

                                                            @if (Model.summary.podiatries != null)
                                                            {
                                                                if (Model.summary.podiatries.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.podiatries)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "• Follow up" && item.generalComments != "• None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }

                                                            @if (Model.summary.podiatries != null)
                                                            {
                                                                if (Model.summary.podiatries.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.podiatries)
                                                                    {

                                                                        if (item.followUp == true || item.amputationComment == "• Follow up" || item.amputationReason == "• Follow up" || item.podiatryLopsComment == "• Follow up" || item.podiatryDeformityComment == "• Follow up" || item.podiatryPerArterialDiseaseComment == "• Follow up" || item.podiatryWoundComment == "• Follow up")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }

                                                        </h3>

                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="podTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="socialTable(0)" style="width: 11%">
                                                                                        @Html.DisplayName("Amputation") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(1)" style="width: 11%">
                                                                                        @Html.DisplayName("Reason") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(3)" style="width: 11%">
                                                                                        @Html.DisplayName("LOPS") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(4)" style="width: 11%">
                                                                                        @Html.DisplayName("Deformity") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(5)" style="width: 11%">
                                                                                        @Html.DisplayName("Arterial disease") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    @*<th onclick="socialTable(6)" style="width: 11%">
                                                                                            @Html.DisplayName("Wounds") <i class="fa fa-fw fa-sort"></i>
                                                                                        </th>*@
                                                                                    <th onclick="socialTable(7)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Comment
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.summary.podiatries.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="8" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }

                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.podiatries)
                                                                                {

                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="7" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else if (item.amputationComment == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.Raw(Html.Encode(item.amputationComment).Replace(",", "<br />" + "	"))</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.amputationReason == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.Raw(Html.Encode(item.amputationReason).Replace(",", "<br />" + "	"))</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.podiatryLopsComment == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>

                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td> @Html.Raw(Html.Encode(item.podiatryLopsComment).Replace(",", "<br />" + "	")) </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.podiatryDeformityComment == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.Raw(Html.Encode(item.podiatryDeformityComment).Replace(",", "<br />" + "	"))</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.podiatryPerArterialDiseaseComment == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.Raw(Html.Encode(item.podiatryPerArterialDiseaseComment).Replace(",", "<br />" + "	"))</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @*@if (item.followUp == true)
                                                                                                {
                                                                                                }
                                                                                                else if (item.podiatryWoundComment == "• Follow up")
                                                                                                {
                                                                                                    <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td>@Html.Raw(Html.Encode(item.podiatryWoundComment).Replace(",", "<br />" + "	"))</td>
                                                                                                }*@
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.programType == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70)!important; text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.generalComments == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70)!important; text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                            }

                                                                                            <!---->

                                                                                            <td class="linkNav" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "podiatry_Details", new { id = item.PodiatryID }) /
                                                                                                @Html.ActionLink("Edit", "podiatry_Edit", new { id = item.PodiatryID })

                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>

                                                                        //tableSorting
                                                                        function podTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("socialTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("podiatry_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--AutoNero record-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Autonomic neuropathy

                                                            @if (Model.summary.autoNeropathies != null)
                                                            {
                                                                if (Model.summary.autoNeropathies.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.autoNeropathies)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.summary.autoNeropathies != null)
                                                            {
                                                                if (Model.summary.autoNeropathies.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.autoNeropathies)
                                                                    {

                                                                        if (item.followUp == true)
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="artDiseaseTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="socialTable(0)">
                                                                                        @Html.DisplayName("Symptoms") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(1)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Comment
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.summary.autoNeropathies.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="4" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }

                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.autoNeropathies)
                                                                                {

                                                                                    <tbody>
                                                                                        <tr>

                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="3" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else if (item.autoNeuroSympComment == "None")
                                                                                            {
                                                                                                <td>@Html.DisplayFor(model => item.autoNeuroSympComment)</td>
                                                                                            }
                                                                                            else if (item.autoNeuroSympComment == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.Raw(Html.Encode(item.autoNeuroSympComment).Replace(",", "<br />" + "	"))</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align:center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.generalComments != null || item.generalComments != " " || item.generalComments != "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                            }


                                                                                            <td class="linkNav" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "autoNero_Details", new { id = item.AutoNeropathyID }) /
                                                                                                @Html.ActionLink("Edit", "autoNero_Edit", new { id = item.AutoNeropathyID })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>

                                                                        //tableSorting
                                                                        function artDiseaseTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("socialTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("autoNero_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Hypoglycaemia record-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Hypoglycaemia

                                                            @if (Model.summary.hypoglycaemias != null)
                                                            {
                                                                if (Model.summary.hypoglycaemias.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.hypoglycaemias)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.summary.hypoglycaemias != null)
                                                            {
                                                                if (Model.summary.hypoglycaemias.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.hypoglycaemias)
                                                                    {

                                                                        if (item.followUp == true || item.hypoglycaemiaSymptomsComment == "• Follow up")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="hypoTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="socialTable(0)">
                                                                                        @Html.DisplayName("Symptoms") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(2)" style="text-align: center!important">
                                                                                        @Html.DisplayName("Glucose < 4,1mol") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(2)" style="text-align: center!important">
                                                                                        @Html.DisplayName("Hypoglycaemic assistance") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(3)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Comment
                                                                                    </th>
                                                                                    <th style="width: 8%; text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>

                                                                            @if (Model.summary.hypoglycaemias.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="6" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.hypoglycaemias)
                                                                                {
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="5" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else if (item.hypoglycaemiaSymptomsComment == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.Raw(Html.Encode(item.hypoglycaemiaSymptomsComment).Replace(",", "<br />" + "	"))</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->

                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.glucoseReading == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else if (item.glucoseReading == "• None")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: red"><i class="far fa-times-circle"></i></span></td>
                                                                                            }
                                                                                            else if (item.glucoseReading == null)
                                                                                            {
                                                                                                <td style="text-align: center!important">-</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.glucoseReading)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->

                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.hypoglycaemiaAssistance == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else if (item.hypoglycaemiaAssistance == "• None")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="text-align: center!important;font-size: 14px; color: red"><i class="far fa-times-circle"></i></span></td>
                                                                                            }
                                                                                            else if (item.hypoglycaemiaAssistance == null)
                                                                                            {
                                                                                                <td style="text-align: center!important">-</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align:center!important">@Html.DisplayFor(modelItem => item.hypoglycaemiaAssistance)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.generalComments == "• Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.generalComments == "• Follow up")
                                                                                            {
                                                                                            }
                                                                                            else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                            }

                                                                                            <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "hypoGlycaemia_Details", new { id = item.HypoglycaemiaID }) /
                                                                                                @Html.ActionLink("Edit", "hypoGlycaemia_Edit", new { id = item.HypoglycaemiaID })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>

                                                                        //tableSorting
                                                                        function hypoTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("medicalTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("hypoGlycaemia_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Hospitalisations-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Hospitalisations
                                                            @if (Model.HospitalAuths != null)
                                                            {
                                                                if (Model.HospitalAuths.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.HospitalAuths)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.HospitalAuths != null)
                                                            {
                                                                if (Model.HospitalAuths.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.HospitalAuths)
                                                                    {
                                                                        if (item.followUp == true)
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="hospitalisationTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        @Html.DisplayNameFor(model => model.HospitalAuths[0].createdDate) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="hospitalisationTable(1)">
                                                                                        @Html.DisplayNameFor(model => model.HospitalAuths[0].authType) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="hospitalisationTable(2)" style="text-align: center!important">
                                                                                        @Html.DisplayName("Administered date") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="hospitalisationTable(3)" style="width: 8% ;text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.HospitalAuths[0].programType) <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="hospitalisationTable(4)" style="width: 8% ;text-align: center!important">
                                                                                        @Html.DisplayNameFor(model => model.HospitalAuths[0].generalComments)
                                                                                    </th>
                                                                                    <th style="width: 8% ;text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>
                                                                            @if (Model.HospitalAuths.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="6" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                foreach (var item in Model.HospitalAuths)
                                                                                {

                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="5" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY">
                                                                                                    @Html.DisplayFor(modelItem => item.createdDate)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.authType == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>
                                                                                                    @Html.DisplayFor(modelItem => item.authType)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }

                                                                                            else if (item.actualAdminDate == null)
                                                                                            {
                                                                                                <td style="text-align: center!important"> - </td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td data-dateformat="DD-MM-YYYY" style="text-align: center!important">
                                                                                                    @Html.DisplayFor(modelItem => item.actualAdminDate)
                                                                                                </td>
                                                                                            }

                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">
                                                                                                    @Html.DisplayFor(modelItem => item.programType)
                                                                                                </td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {

                                                                                            }
                                                                                            else if (item.generalComments == "None" || item.generalComments == "none" || item.generalComments == "NONE")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else if (item.generalComments == "Follow up")
                                                                                            {
                                                                                                <td style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 12px!important" title="follow up required!"><span><i class="fas fa-info-circle" style="color: rgba(204, 0, 0, 0.70)"></i></span> Follow up!</td>
                                                                                            }
                                                                                            else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            <td class="linkNav statusCode" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "Hospitalisations_Details", new { id = item.id }) /
                                                                                                @Html.ActionLink("Edit", "Hospitalisations_Edit", new { id = item.id })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>
                                                                        //tableSorting
                                                                        function hospitalisationTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("allergyTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("Hospitalisations_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--Other record-->
                                            <div class="col-md-12" style="z-index: 10">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading clickable panel-collapsed">
                                                        <h3 class="panel-title">
                                                            Other

                                                            @if (Model.summary.questionnaireOthers != null)
                                                            {
                                                                if (Model.summary.questionnaireOthers.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.questionnaireOthers)
                                                                    {
                                                                        if (!string.IsNullOrEmpty(item.generalComments) && item.generalComments != "Follow up" && item.generalComments != "None")
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-sticky-note notificationIcon" title="comment"></i></span>
                                                                            break;
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                            @if (Model.summary.questionnaireOthers != null)
                                                            {
                                                                if (Model.summary.questionnaireOthers.Count() > 0)
                                                                {

                                                                    foreach (var item in Model.summary.questionnaireOthers)
                                                                    {

                                                                        if (item.followUp == true)
                                                                        {
                                                                            <span style="font-size: 12px">&nbsp;<i class="fas fa-star notificationIcon" title="follow up"></i></span>
                                                                            break;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </h3>
                                                        <span class="pull-right clickable panel-collapsed" style="margin-top: -1.25%; margin-right: 0.5%"><i class="fas fa-caret-up"></i></span>
                                                    </div>
                                                    <div class="panel-body">

                                                        <div class="panelContainer">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="row">
                                                                        <table class="table patientHistory_Table sortable" id="otherTable">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th onclick="socialTable(0)" style="width: 12%">
                                                                                        @Html.DisplayName("Occupation") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(1)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Shift worker") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(2)" style="width: 10%; text-align: center!important">
                                                                                        @Html.DisplayName("Lypohypertrophy") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(3)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Depression") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(4)" style="width: 11%; text-align: center!important">
                                                                                        @Html.DisplayName("Recreational drugs") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(5)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("TB Diagnosis") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(6)" style="width: 8%; text-align: center!important">
                                                                                        @Html.DisplayName("Pregnant") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th onclick="socialTable(7)" style="width: 7%; text-align: center!important">
                                                                                        @Html.DisplayName("Program") <i class="fa fa-fw fa-sort"></i>
                                                                                    </th>
                                                                                    <th style="width: 7%; text-align: center!important">
                                                                                        Comment
                                                                                    </th>
                                                                                    <th style="width: 7%; text-align: center!important">
                                                                                        Action
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>


                                                                            @if (Model.summary.questionnaireOthers.Count() == 0)
                                                                            {
                                                                                <tr><td colspan="10" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                                            }

                                                                            else
                                                                            {
                                                                                foreach (var item in Model.summary.questionnaireOthers)
                                                                                {

                                                                                    <tbody>
                                                                                        <tr>
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                                <td colspan="9" style="text-align: center!important; color: rgba(204, 0, 0, 0.70)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="font-size: 18px; color: rgba(204, 0, 0, 0.70)!important"></i></span> Follow up required!</td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td>@Html.DisplayFor(model => item.occupation)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                if (item.shiftWorkCheck == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                                }
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                if (item.lypohypertrophyCheck == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                                }
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                if (item.depression == false)
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                                }
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.recDrugs == false)
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.tbDiagnosed == false)
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.Pregnant == false)
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 16px; color: red; text-align: center!important"><i class="far fa-times-circle"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 16px; color: green; text-align: center!important"><i class="far fa-check-circle"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important">@Html.DisplayFor(modelItem => item.programType)</td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->
                                                                                            @if (item.followUp == true)
                                                                                            {
                                                                                            }
                                                                                            else if (item.generalComments == null || item.generalComments == " " || item.generalComments == "")
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: rgba(204, 0, 0, 0.70); text-align: center!important"><i class="fas fa-times" title="No comment"></i></span></td>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <td style="text-align: center!important"><span style="font-size: 14px; color: forestgreen; text-align: center!important"><i class="fas fa-check" title="@item.generalComments"></i></span></td>
                                                                                            }
                                                                                            <!---->
                                                                                            <!---->

                                                                                            <td class="linkNav" style="text-align: center!important">
                                                                                                @Html.ActionLink("View", "questionOther_Details", new { id = item.QuestionnaireOtherID }) /
                                                                                                @Html.ActionLink("Edit", "questionOther_Edit", new { id = item.QuestionnaireOtherID })
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                }
                                                                            }

                                                                        </table>
                                                                    </div>
                                                                    <script>

                                                                        //tableSorting
                                                                        function otherTable(n) {
                                                                            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
                                                                            table = document.getElementById("socialTable");
                                                                            switching = true;
                                                                            dir = "asc";

                                                                            while (switching) {
                                                                                switching = false;
                                                                                rows = table.getElementsByTagName("TR");

                                                                                for (i = 1; i < (rows.length - 1); i++) {

                                                                                    shouldSwitch = false;

                                                                                    x = rows[i].getElementsByTagName("TD")[n];
                                                                                    y = rows[i + 1].getElementsByTagName("TD")[n];

                                                                                    if (dir == "asc") {
                                                                                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    } else if (dir == "desc") {
                                                                                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {

                                                                                            shouldSwitch = true;
                                                                                            break;
                                                                                        }
                                                                                    }
                                                                                }
                                                                                if (shouldSwitch) {

                                                                                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                                                                                    switching = true;

                                                                                    switchcount++;
                                                                                } else {

                                                                                    if (switchcount == 0 && dir == "asc") {
                                                                                        dir = "desc";
                                                                                        switching = true;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>

                                                                <div class="detailsdrop">
                                                                    <input type="button" class="btn buttonRound_formCreate" style="width: 10%; margin-left: 42%!important; margin-bottom: 0%" value="Add" onclick="location.href='@Url.Action("questionOther_Create", "Member", new { DependentID = Model.DependentID }, null)'" />
                                                                </div>
                                                                <br />

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <!--Hospitalisations_TAB-->
                                        <div class="tab-pane" id="tab_default_2">
                                            <!--Authorizations-->
                                            <div class="contentBlock_socialRec">
                                                <h4 class="summaryHeading">Hospitalisation records</h4>
                                                <hr class="patientProfile_Ruler" />

                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <table class="table indexTable_socialRec">
                                                            <tr>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].adminDate)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].dischargeDate)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].finalDiagnosis)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].procedureCode)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].provider)
                                                                </th>
                                                                <th>
                                                                    @Html.DisplayNameFor(model => model.HospitalClaims[0].vendor)
                                                                </th>
                                                            </tr>
                                                            @if (Model.HospitalClaims.Count() == 0)
                                                            {
                                                                <tr><td colspan="8" style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 18px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no records found</td></tr>
                                                            }
                                                            else
                                                            {
                                                                foreach (var item in Model.HospitalClaims)
                                                                {
                                                                    <tr>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.adminDate)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.dischargeDate)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.finalDiagnosis)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.procedureCode)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.provider)
                                                                        </td>
                                                                        <td>
                                                                            @Html.DisplayFor(modelItem => item.vendor)
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }

                                                        </table>
                                                    </div>
                                                </div>

                                                <hr class="patientProfile_Ruler" />

                                            </div>

                                        </div>
                                        <!--Consultations_TAB-->
                                        <div class="tab-pane" id="tab_default_3">
                                            <br />
                                            <p style="text-align: center!important; color: rgba(128, 128, 128, 0.50)!important; font-size: 25px!important"><span><i class="fas fa-info-circle" style="color: rgba(128, 128, 128, 0.50)"></i></span> no consultation records at this time</p>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                </div>
            </div>
            <!--scriptHistory-->
            <div class="tab-5">
                <label for="tab5-5">Script history</label>
                <input id="tab5-5" name="tabs-three" type="radio">

                <div class="row tablinks">
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="js/jquery.tablesorter.min.js"></script>


<script src="~/bundles/jqueryval"></script>

<script>
    $('#myTabs a').click(function (e) {
        e.preventDefault()
        $(this).tab('show')
    })

    $('#myTabs a[href="#summary"]').tab('show') // Select tab by name
    $('#myTabs a:first').tab('show') // Select first tab
    $('#myTabs a:last').tab('show') // Select last tab
    $('#myTabs li:eq(2) a').tab('show') // Select third tab (0-indexed)
</script>





