@model HaloCareCore.Models.DoctorQuestionnaireViewModel
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{
    ViewBag.Title = "Diabetes Questionnaire";
    Layout = "~/Views/Shared/_LayoutMember.cshtml";
}

<style>
    body {
        background-color: #f9f9fc !important;
    }

    .select2-container--default .select2-selection--single {
        width: 473px !important;
    }

        .select2-container--default .select2-selection--single .select2-selection__arrow b {
            top: 35% !important
        }
</style>

<!--dateSort_JQ-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
<script src="https://www.jqueryscript.net/demo/jQuery-Plugin-For-Sortable-Bootstrap-Tables-Bootstrap-Sortable/Scripts/bootstrap-sortable.js"></script>

<!--pageHeader-->
<nav id="global-nav" class="nav">
    <div class="pull-left title">
        <h1 class="site-title_patientProfile">
            <span><i class="fas fa-plus-square"></i>&emsp; Patient profile</span>
        </h1>
    </div>
    <div class="pull-right title">
        <h1 class="site-title_userID pull-right">
            <div class="halocareLogo"><img src="~/Content/Images/Navigation/navBarIcons/haloCare_White.png" /></div>
        </h1>
        <h1 class="site-title_userID pull-right">
            @if (HttpContextAccessor.HttpContext.Session.GetString("Init") != null)
            {
                <span href="#" id="userMenu-toggle"><span class="initials_Avatar" style="color: white!important; font-size: 16px">@HttpContextAccessor.HttpContext.Session.GetString("Init").ToString() </span></span>
            }
        </h1>
        <h1 class="site-waffleIcon pull-right">
            <span href="#" id="patientMenu-toggle"><span class="waffleIcon" style="color: white!important; font-size: 12px"><i class="fas fa-th"></i></span></span>
        </h1>
    </div>
</nav>

<div class="dashboardContainer zero-padding">
    <div class="patientProfile_View">

        <!--breadCrumbs-->
        <ul class="breadCrumbs_patientProfile">
            <li style="font-size: 12px; color: #0081b3; font-weight: 200">You are here:</li>
            <li><a href="@Url.Action("Index", "Administration", new {})">Home</a></li>
            <li><a href="@Url.Action("patientDashboard", "Member", new { DependentID = Context.Request.Query["DependentID"]})">Patient</a></li>
            <li><a href="#">Profile</a></li>
        </ul>

        <!--Left navSlider -->
        @Html.Partial("_navSlider", new { DependentID = Context.Request.Query["DependentID"] })

        <!--navCollection-->
        <div class="navCollection_patientProfile">
            @Html.Partial("_navCollection")
        </div>

        <!--profileInformation-->
        <div>
            @*@Html.RenderAction("_profileBar_edit", "Member", new { DependentID = Context.Request.Query["DependantID"] })*@
        </div>
    </div>

    <div style="margin-bottom: 8.5%"></div>

    <div class="patientProfile_container">

        @*<h4 class="tableHeading">Questionnaire - @Model.drquestionnaireResults.Id</h4>*@
        <hr class="fancyruler">

        <!--Social History-->
        <div class="diabQuestionnaire_container" style="margin-left: 0.5%; width: 99%" id="hospitalisationDiv_Diabetes">

            <h3 style="margin-left: 2%">Social History</h3>
            <hr class="questionnaire_Ruler" />
            <div class="form-horizontal" style="width: 1200px; margin-left: 5%">

                <div class="col-md-12" style="margin-left: -5%">
                    <table class="table socialTable_Quesionnaire table-striped" id="tab_logic_hZ_diab">
                        <thead>
                            <tr>
                                <th width="40%">
                                    Category
                                </th>
                                <th width="10%">
                                    Applicable
                                </th>
                                <th style="width: 25%">
                                    Action
                                </th>
                                <th style="width: 35%">
                                    Education
                                </th>

                            </tr>
                        </thead>

                        <tbody class="socialTableX">
                            <!--Depression-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Are you experiencing signs of depression?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.depression, true, new { @id = "depression-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.depression, false, new { @id = "depression-false", @data_val = "false" }) No
                                </td>
                                <td>
                                    @Html.EditorFor(model => model.drquestionnaireResults.depressionComment, new { htmlAttributes = new { @class = "infoBox_doctorQuestionnaire", @placeholder = "Comment" } })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Studies has shown that your risk for depression increases if you are a diabetic.</li>
                                        <li>
                                            Symptoms of depression:<br>
                                            o	Loss of pleasure<br>
                                            o	Change in sleep patterns<br>
                                            o	Early to wake up<br>
                                            o	Change in appetite<br>
                                            o	Trouble concentrating<br>
                                            o	Loss of energy<br>
                                            o	Nervousness<br>
                                            o	Guilt<br>
                                            o	Morning sadness<br>
                                            o	Suicidal thoughts
                                        </li>
                                    </ul>
                                </td>
                            </tr>

                            <!--TB-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Have you been diagnosed with TB?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.tbDiagnosed, true, new { @id = "tbDiagnosed-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.tbDiagnosed, false, new { @id = "tbDiagnosed-false", @data_val = "false" }) No
                                </td>
                                <td>
                                    <div class="col-md-4">
                                        <!--tbAdditional-->
                                        <div class="form-group">
                                            <table class="questionTable" id="tab_logic_tB_diab" style="width: 5%!important; margin-left: 5%">

                                                <tbody class="tbHistory_diab" id="tbHistoryTable" style="border-color: transparent!important">
                                                    <tr id='tBHistory_diab0' data-id="0" class="hidden" style="background-color: transparent">

                                                        <td data-name="tbDateDiagnosedFrom_diab" style="max-width: 200px!important;">
                                                            <input type="date" name='tbFrom' class="infoBox_doctorQuestionnaire_TB col-md-5" style="background-color: transparent!important"
                                                                   @Html.EditorFor(model => model.drquestionnaireResults.tbTreatmentStartDate, new { htmlAttributes = new { @class = "infoBox_doctorQuestionnaire_TB " } }) />
                                                        </td>
                                                        <td data-name="tbDateDiagnosedTo_diab" style="max-width: 200px!important">
                                                            <input type="date" name='tbTo' class="infoBox_doctorQuestionnaire_TB col-md-5"
                                                                   @Html.EditorFor(model => model.drquestionnaireResults.tbTreatmentEndDate, new { htmlAttributes = new { @class = "infoBox_doctorQuestionnaire_TB" } }) />
                                                        </td>
                                                        <td data-name="del">
                                                            <button nam"del0" class='glyphicon glyphicon-remove row-remove col-md-1' style="margin-left: -40%"></button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>

                                        <a id="add_row_tb_diab" class="btn questionButton" style="margin-top: -2% ;margin-bottom: 2%;margin-left: 100%!important;width: 100%!important; color: #5e5e5e; font-size: 13px ">Add New</a>
                                    </div>
                                </td>

                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Uncontrolled diabetes can increase your risk for Tuberculosis infection.</li>
                                        <li>The reason for this is due to the weakened immune system.</li>
                                    </ul>
                                </td>
                            </tr>

                            <!--Pregnancy-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Are you pregnant?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.Pregnant, true, new { @id = "Pregnant-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.Pregnant, false, new { @id = "Pregnant-false", @data_val = "false" }) No
                                </td>
                                <td>
                                    <p style="font-size: 11px; position: absolute; margin-left: 26.2%; margin-top: 1.5%; color: black">Expected due date</p>
                                    @Html.EditorFor(model => model.drquestionnaireResults.EDD, new { htmlAttributes = new { @class = "infoBox_doctorQuestionnaire" } })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>It is very important to ensure good glycaemic control during pregnancy.</li>
                                        <li>High blood sugar levels in early pregnancy can cause birth defects or increase your risk of miscarriage and diabetes related complications.</li>
                                    </ul>
                                </td>
                            </tr>


                        </tbody>
                    </table>
                    <br />

                </div>



            </div>
        </div>

        <!--Podiatry-->
        <div class="diabQuestionnaire_podiatryContainer" style="margin-left: 0.5%; width: 99%" id="podiatryDiv_Diabetes">

            <h3 style="margin-left: 2%">Podiatry</h3>
            <hr class="questionnaire_Ruler" />
            <div class="form-horizontal" style="width: 1200px; margin-left: 5%">

                <div class="col-md-12" style="margin-left: -5%">
                    <table class="table socialTable_Quesionnaire table-striped" id="tab_logic_hZ_diab">
                        <thead>
                            <tr>
                                <th width="40%">
                                    Category
                                </th>
                                <th width="10%">
                                    Applicable
                                </th>
                                <th style="width: 25%">
                                    Action
                                </th>
                                <th style="width: 35%">
                                    Education
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            <!--Amputation-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Do you have any amputations?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.amputationCheck, true, new { @id = "amputationCheck-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.amputationCheck, false, new { @id = "amputationCheck-false", @data_val = "false" }) No
                                </td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.amputationComment, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "--Select type--", Value = "None"},
                                        new SelectListItem() { Text = "None", Value = "None"},
                                        new SelectListItem() { Text = "L-foot", Value = "L-foot"},
                                        new SelectListItem() { Text = "L-foot 1 toe", Value = "L-foot 1 toe"},
                                        new SelectListItem() { Text = "L-foot multiple toes", Value = "L-foot multiple toes"},
                                        new SelectListItem() { Text = "L-lower leg", Value = "L-lower leg"},
                                        new SelectListItem() { Text = "L-leg above knee", Value = "L-leg above knee"},
                                        new SelectListItem() { Text = "R-foot", Value = "R-foot"},
                                        new SelectListItem() { Text = "R-foot 1 toe", Value = "R-foot 1 toe"},
                                        new SelectListItem() { Text = "R-foot multiple toes", Value = "R-foot multiple toes"},
                                        new SelectListItem() { Text = "R-lower leg", Value = "R-lower leg"},
                                        new SelectListItem() { Text = "R-leg above knee", Value = "R-leg above knee"},
                                        new SelectListItem() { Text = "Other", Value = "Other"},
                                    }, new { @class = "infoBox_doctorQuestionnaire" })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Inspect your feet daily for any cuts, blisters, redness, swelling or nail problems.</li>
                                        <li>Bath in lukewarm water. Never hot. Inspect the water temperature before you get into the bath.</li>
                                        <li>Wash between toes and ensure to dry carefully.</li>
                                    </ul>
                                </td>
                            </tr>

                            <!--amputationReason-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Reason for amputation?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px"></td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.amputationReason, new List<SelectListItem>
                                    {
                                        new SelectListItem() { Text = "None", Value = "None"},
                                        new SelectListItem() { Text = "Traumatic", Value = "Traumatic"},
                                        new SelectListItem() { Text = "Poor circulation", Value = "Poor circulation"},
                                        new SelectListItem() { Text = "Cancer", Value = "Cancer"},
                                        new SelectListItem() { Text = "Infection", Value = "Infection"},
                                        new SelectListItem() { Text = "Neuroma", Value = "Neuroma"},
                                        new SelectListItem() { Text = "Frostbite", Value = "Frostbite"},
                                    }, new { @class = "questionDrop", @id = "amputationReason", @multiple = "multiple", @style = "width: 430px; margin-left: 1%" })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Moisturize your feet. Not between the toes. This could encourage a fungal infections.</li>
                                        <li>Cut nails carefully. (consult podiatrist)</li>
                                        <li>Do not treat corns and calluses yourself.</li>

                                    </ul>
                                </td>
                            </tr>

                            <!--Podiatry LOPS-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Loss of peripheral sensation (LOPS)</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px"></td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.podiatryLopsComment, new List<SelectListItem>
                                    {
                                        new SelectListItem() { Text = "None", Value = "None"},
                                        new SelectListItem() { Text = "Prickling and tingling sensation in 1 or both feet (pins and needles)", Value = "Prickling and tingling sensation in 1 or both feet (pins and needles)"},
                                        new SelectListItem() { Text = "Numbness and less of an ability to feel pain or changes in temperature", Value = "Numbness and less of an ability to feel pain or changes in temperature"},
                                        new SelectListItem() { Text = "Burning or sharp pain", Value = "Burning or sharp pain"},
                                        new SelectListItem() { Text = "Burning, stabbing or electric-shock sensations", Value = "Burning, stabbing or electric-shock sensations"},
                                        new SelectListItem() { Text = "Muscle weakness", Value = "Muscle weakness"},
                                        new SelectListItem() { Text = "Poor coordination", Value = "Poor coordination"},
                                        new SelectListItem() { Text = "Extreme sensitivity to even the lightest touch", Value = "Extreme sensitivity to even the lightest touch"},
                                        new SelectListItem() { Text = "Symptoms get worse at night", Value = "Symptoms get worse at night"},
                                    }, new { @class = "questionDrop", @id = "podLOPS", @multiple = "multiple", @style = "width: 430px; margin-left: 1%" })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Wear clean, dry socks. Not synthetic.</li>
                                        <li>Shake out shoes and feel the inside before wearing.</li>
                                        <li>Keep feet warm and dry</li>

                                    </ul>
                                </td>
                            </tr>

                            <!--Podiatry Deformity-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Deformity</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px"></td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.podiatryLopsComment, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "None", Value = "None"},
                                        new SelectListItem() { Text = "Hammer toe", Value = "Hammer toe"},
                                        new SelectListItem() { Text = "Bunion", Value = "Bunion"},
                                        new SelectListItem() { Text = "Arch (High or low)", Value = "Arch (High or low)"},
                                        new SelectListItem() { Text = "Charcot foot", Value = "Charcot foot"},
                                    }, new { @class = "questionDrop", @id = "podDeformity", @multiple = "multiple", @style = "width: 430px; margin-left: 1%" })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Never walk barefoot.</li>
                                        <li>Do not smoke.</li>
                                        <li>Consult a Podiatrist at least annually and ask your doctor/sister to inspect your feet with each consultation.</li>
                                    </ul>
                                </td>
                            </tr>

                            <!--Podiatry Peripheral Art Disease-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Peripheral arterial disease</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px"></td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.podiatryLopsComment, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "None", Value = "None"},
                                        new SelectListItem() { Text = "Leg pain (cramping) that occurs while walking (intermittent claudication)", Value = "Leg pain (cramping) that occurs while walking (intermittent claudication)"},
                                        new SelectListItem() { Text = "Leg pain (cramping) that occurs while lying down (rest pain)", Value = "Leg pain (cramping) that occurs while lying down (rest pain)"},
                                        new SelectListItem() { Text = "Leg numbness or weakness", Value = "Leg numbness or weakness"},
                                        new SelectListItem() { Text = "Cold legs or feet", Value = "Cold legs or feet"},
                                        new SelectListItem() { Text = "Sores that will not heal on toes, feet or legs", Value = "Sores that will not heal on toes, feet or legs"},
                                        new SelectListItem() { Text = "A change in leg colour", Value = "A change in leg colour"},
                                        new SelectListItem() { Text = "Loss of hair on the feet and legs", Value = "Loss of hair on the feet and legs"},
                                    }, new { @class = "questionDrop", @id = "podPeripArtDies", @multiple = "multiple", @style = "width: 430px; margin-left: 1%" })
                                </td>
                                <td></td>
                            </tr>

                            <!--Podiatry Wound-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Do you have any wounds/sores on/under your feet?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px"></td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.podiatryLopsComment, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "None", Value = "None"},
                                        new SelectListItem() { Text = "Wound on a lower limb without infection", Value = "Wound on a lower limb without infection"},
                                        new SelectListItem() { Text = "Wound on lower limb with infection", Value = "Wound on lower limb with infection"},
                                    }, new { @class = "questionDrop", @id = "podWound", @multiple = "multiple", @style = "width: 430px; margin-left: 1%" })
                                </td>
                                <td></td>
                            </tr>



                        </tbody>
                    </table>
                    <br />
                </div>
            </div>
        </div>

        <!--AutoNero-->
        <div class="diabQuestionnaire_AutoNeuroContainer" style="margin-left: 0.5%; width: 99%" id="autoNeroDiv_Diabetes">

            <h3 style="margin-left: 2%">Autonomic neropathy symptoms</h3>
            <hr class="questionnaire_Ruler" />
            <div class="form-horizontal" style="width: 1200px; margin-left: 5%">

                <div class="col-md-12" style="margin-left: -5%">
                    <table class="table socialTable_Quesionnaire table-striped" id="tab_logic_hZ_diab">
                        <thead>
                            <tr>
                                <th width="33%">
                                    Category
                                </th>
                                <th style="width: 33%">
                                    Action
                                </th>
                                <th style="width: 33%">
                                    Education
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            <!--Autonomic Neropathy symptoms-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Do you experience any of the following symptoms?</p>
                                </td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.podiatryLopsComment, new List<SelectListItem>
                                    {
                                        new SelectListItem() { Text = "A. Cardiovascular system"},
                                        new SelectListItem() { Text = "- Dizziness just after standing", Value = "Dizziness just after standing"},
                                        new SelectListItem() { Text = "- Fainting just after standing", Value = "Fainting just after standing"},
                                        new SelectListItem() { Text = "- Irregular heart rate", Value = "Irregular heart rate"},
                                        new SelectListItem() { Text = "B. Sweat glands"},
                                        new SelectListItem() { Text = "- Profuse sweating, especially at night or when eating particular foods", Value = "Profuse sweating, especially at night or when eating particular foods"},
                                        new SelectListItem() { Text = "- Reduced sweating, especially in the legs and feet", Value = "Reduced sweating, especially in the legs and feet"},
                                        new SelectListItem() { Text = "- Dry, flaky, thinning skin", Value = "Dry, flaky, thinning skin"},
                                        new SelectListItem() { Text = "- Hair loss", Value = "Hair loss"},
                                        new SelectListItem() { Text = "C. Urinary system"},
                                        new SelectListItem() { Text = "- Incontinence", Value = "Incontinence"},
                                        new SelectListItem() { Text = "- Frequent or urgent urination", Value = "Frequent or urgent urination"},
                                        new SelectListItem() { Text = "- Trouble urinating", Value = "Trouble urinating"},

                                    }, new { @class = "questionDrop", @id = "podWound", @multiple = "multiple", @style = "width: 430px; margin-left: 1%" })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Cheese commonly causes excessive sweating, although this is not true for every person with diabetic neuropathy</li>
                                    </ul>
                                </td>
                            </tr>


                        </tbody>
                    </table>
                    <br />
                </div>
            </div>
        </div>

        <!--Vision-->
        <div class="diabQuestionnaire_visionContainer" style="margin-left: 0.5%; width: 99%" id="visionDiv_Diabetes">

            <h3 style="margin-left: 2%">Vision</h3>
            <hr class="questionnaire_Ruler" />
            <div class="form-horizontal" style="width: 1200px; margin-left: 5%">

                <div class="col-md-12" style="margin-left: -5%">
                    <table class="table socialTable_Quesionnaire table-striped" id="tab_logic_hZ_diab">
                        <thead>
                            <tr>
                                <th width="33%">
                                    Category
                                </th>
                                <th style="width: 33%">
                                    Action
                                </th>
                                <th style="width: 33%">
                                    Education
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            <!--Vision-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>How is your vision?</p>
                                </td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.vision, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "--Select--", Value = "None"},
                                        new SelectListItem() { Text = "Normal vision", Value = "Normal"},
                                        new SelectListItem() { Text = "Glasses", Value = "Glasses"},
                                        new SelectListItem() { Text = "Partially blind / Blind in one or both eyes", Value = "Partially blind / Blind in one or both eyes"},

                                    }, new { @class = "infoBox_doctorQuestionnaire" })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Consult with an Ophthalmologist at least annually</li>
                                        <li>Good glycaemic control is very important in slow down the process of complications.</li>
                                        <li>Maintain a healthy weight.</li>
                                        <li>By physically active.</li>
                                        <li>Stop smoking.</li>
                                        <li>
                                            Diabetic retinopathy, glaucoma and Cataracts symptoms. You may have no symptoms at first, but be aware of any of the following:<br>
                                            o	Spots or dark strings floating in your vision (floaters)<br>
                                            o	Blurred vision<br>
                                            o	Fluctuating vision<br>
                                            o	Impaired colour vision<br>
                                            o	Dark or empty areas in your vision<br>
                                            o	Vision loss<br>
                                            o	Pain in the eye<br>
                                            o	Yellowing of your vision
                                        </li>
                                    </ul>
                                </td>
                            </tr>

                            <!--Vision Treatment-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Have you had any of the following:</p>
                                </td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.eyeTreatments, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "--Select--", Value = "None"},
                                        new SelectListItem() { Text = "None", Value = "None"},
                                        new SelectListItem() { Text = "Laser treatment", Value = "Laser treatment"},
                                        new SelectListItem() { Text = "Eye injections", Value = "Eye injections"},
                                        new SelectListItem() { Text = "Eye surgery", Value = "Eye surgery"},

                                    }, new { @class = "infoBox_doctorQuestionnaire" })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Laser treatment: to treat the growth of new blood vessels at the back of the eye (retina) in cases of proliferative diabetic retinopathy, and to stabilise some cases of maculopathy.</li>
                                        <li>Eye injections: to treat severe maculopathy that's threatening your sight.</li>
                                        <li>Eye surgery: to remove blood or scar tissue from the eye if laser treatment isn't possible because retinopathy is too advanced.</li>
                                    </ul>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                    <br />
                </div>
            </div>
        </div>

        <!--Hypoglycaemia -->
        <div class="diabQuestionnaire_hypoContainer" style="margin-left: 0.5%; width: 99%" id="hypoglycaemia_Div_Diabetes">

            <h3 style="margin-left: 2%">Hypoglycaemia</h3>
            <hr class="questionnaire_Ruler" />
            <div class="form-horizontal" style="width: 1200px; margin-left: 5%">

                <div class="col-md-12" style="margin-left: -5%">
                    <table class="table socialTable_Quesionnaire table-striped" id="tab_logic_hZ_diab">
                        <thead>
                            <tr>
                                <th width="40%">
                                    Category
                                </th>
                                <th width="10%">
                                    Applicable
                                </th>
                                <th style="width: 25%">
                                    Action
                                </th>
                                <th style="width: 35%">
                                    Education
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            <!--Hypoglyceamia-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Do you wake up sweating & confused?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.hypoglycaemiaCheck, true, new { @id = "hypoglycaemiaCheck-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.hypoglycaemiaCheck, false, new { @id = "hypoglycaemiaCheck-false", @data_val = "false" }) No
                                </td>
                                <td>
                                    @Html.EditorFor(model => model.drquestionnaireResults.hypoglycaemiaComment, new { htmlAttributes = new { @class = "infoBox_doctorQuestionnaire", @placeholder = "Comment" } })<br>
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>Blood sugar below 4mmol is regarded as Low blood sugar (Hypoglycaemia)</li>
                                        <li>
                                            Treating a low blood sugar:<br>
                                            o	Drink half cup soft drink (not sugar free) OR<br>
                                            o	Chew four to six pieces of hard candy (not sugar free) OR<br>
                                            o	Eat 1 tablespoon honey (place under tongue for rapid absorption)<br>
                                            o	Wait 15 minutes after you have eaten a sugar-containing food, check your glucose again.<br>
                                            o	If you do not feel better and your blood sugar is still less than 3.88mmol/l, eat another serving of the foods listed above.<br>
                                            o	Eat a protein snack such as peanut butter & crackers or cheese & crackers to maintain the glucose.
                                        </li>
                                    </ul>
                                </td>
                            </tr>

                            <!--Glucose Check-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>How often do you have a glucose reading below 4.1mmol?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px"></td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.eyeTreatments, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "--Select--", Value = "None"},
                                        new SelectListItem() { Text = "None", Value = "None"},
                                        new SelectListItem() { Text = "Daily", Value = "Daily"},
                                        new SelectListItem() { Text = "Weekly", Value = "Weekly"},
                                        new SelectListItem() { Text = "Monthly", Value = "Monthly"},

                                    }, new { @class = "infoBox_doctorQuestionnaire" })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>
                                            Always try to identify the reason why you could have had a low blood sugar. Possible reasons could be:<br>
                                            o	Treatment related (high dosages)<br>
                                            o	Excessive alcohol consumption<br>
                                            o	Illnesses (kidney failure, hepatitis, anorexia nervosa, gluconeogenesis)<br>
                                            o	Exercise (Ensure to test your glucose before you exercise. Be aware of any hypo-symptoms. Eat carbohydrate during exercise if required.)<br>
                                            o	Irregular/skipping meals. (Ensure to not skip a meal. Especially if you use insulin or a Sulfonylureas)
                                        </li>
                                    </ul>
                                </td>
                            </tr>

                            <!--Hypoglyceamic symptoms-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Do you experience any of the following symptoms:</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px"></td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.hypoglycaemiaSymptomsComment, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "None", Value = "None"},
                                        new SelectListItem() { Text = "Tremors", Value = "Tremors"},
                                        new SelectListItem() { Text = "Sweating", Value = "Sweating"},
                                        new SelectListItem() { Text = "Palpitations", Value = "Palpitations"},
                                        new SelectListItem() { Text = "Feeling of anxiety, dread or confusion", Value = "Feeling of anxiety, dread or confusion"},
                                        new SelectListItem() { Text = "Restlessness", Value = "Restlessness"},
                                        new SelectListItem() { Text = "Hunger", Value = "Hunger"},
                                        new SelectListItem() { Text = "Irritability", Value = "Irritability"},
                                        new SelectListItem() { Text = "Tingling sensation around the mouth", Value = "Tingling sensation around the mouth"},
                                        new SelectListItem() { Text = "Blurred vision", Value = "Blurred vision"},
                                    }, new { @class = "questionDrop", @id = "hypoglySymptoms", @multiple = "multiple", @style = "width: 430px; margin-left: 1%" })
                                </td>
                                <td></td>
                            </tr>

                            <!--Emergency services-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>How many times have you had hypoglycaemia-related assistance by emergency services or hospital?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px"></td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.hypoglycaemiaAssistance, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "--Select--", Value = "None"},
                                        new SelectListItem() { Text = "0", Value = "zero"},
                                        new SelectListItem() { Text = "1 to 2", Value = "1 to 2"},
                                        new SelectListItem() { Text = "3 and more", Value = "3 and more"},

                                    }, new { @class = "infoBox_doctorQuestionnaire" })
                                </td>
                                <td></td>
                            </tr>

                            <!--Emergency service last 12 months-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>How many times have you been to an emergency department for any reason in the past 12 months?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px"></td>
                                <td>
                                    @Html.DropDownListFor(model => model.drquestionnaireResults.emergencyRoomVisits, new List<SelectListItem>
                                   {
                                        new SelectListItem() { Text = "--Select--", Value = "None"},
                                        new SelectListItem() { Text = "0", Value = "zero"},
                                        new SelectListItem() { Text = "less than 2", Value = "less than 2"},
                                        new SelectListItem() { Text = "more than 2", Value = "more than 2"},

                                    }, new { @class = "infoBox_doctorQuestionnaire", @id = "Select" })
                                </td>
                                <td></td>
                            </tr>

                            <!--insulinChecks-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Does the patient use insulin?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.insulinUseCheck, true, new { @id = "insulinUseCheck-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.insulinUseCheck, false, new { @id = "insulinUseCheck-false", @data_val = "false" }) No
                                </td>
                                <td></td>
                                <td></td>
                            </tr>

                            <!--sulfonylurea-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Does the patient use a sulfonylurea?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.sulfonylureaUseCheck, true, new { @id = "sulfonylureaUseCheck-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.sulfonylureaUseCheck, false, new { @id = "sulfonylureaUseCheck-false", @data_val = "false" }) No
                                </td>
                                <td></td>
                                <td></td>
                            </tr>

                            <!--CKD check-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Does the patient have severe or end-stage Kidney disease (CKD stage 4 or 5)?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.ckdStageCheck, true, new { @id = "ckdStageCheck-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.ckdStageCheck, false, new { @id = "ckdStageCheck-false", @data_val = "false" }) No
                                </td>
                                <td></td>
                                <td></td>
                            </tr>

                            <!--patientAge-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Is the patient < 77 years old?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.patientAgeCheck, true, new { @id = "patientAgeCheck-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.patientAgeCheck, false, new { @id = "patientAgeCheck-false", @data_val = "false" }) No
                                </td>
                                <td></td>
                                <td></td>
                            </tr>

                        </tbody>
                    </table>
                    <br />
                </div>
            </div>
        </div>

        <!--Other -->
        <div class="diabQuestionnaire_otherContainer" style="margin-left: 0.5%; width: 99%" id="otherDiv_Diabetes">

            <h3 style="margin-left: 2%">Other</h3>
            <hr class="questionnaire_Ruler" />
            <div class="form-horizontal" style="width: 1200px; margin-left: 5%">

                <div class="col-md-12" style="margin-left: -5%">
                    <table class="table socialTable_Quesionnaire table-striped" id="tab_logic_hZ_diab">
                        <thead>
                            <tr>
                                <th width="40%">
                                    Category
                                </th>
                                <th width="10%">
                                    Applicable
                                </th>
                                <th style="width: 25%">
                                    Action
                                </th>
                                <th style="width: 35%">
                                    Education
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            <!--Occupation-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>What is your occupation?</p> <br />
                                    <p>Do you work shifts?</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    <br />
                                    <div style="margin-top: 5%"></div>
                                    <br />
                                    <span style="margin-left: 2%">
                                        @Html.RadioButtonFor(model => model.drquestionnaireResults.shiftWorkCheck, true, new { @id = "shiftWorkCheck-true", @data_val = "false" }) Yes
                                        @Html.RadioButtonFor(model => model.drquestionnaireResults.shiftWorkCheck, false, new { @id = "shiftWorkCheck-false", @data_val = "false" }) No
                                    </span>
                                </td>

                                <td>
                                    @Html.EditorFor(model => model.drquestionnaireResults.occupation, new { htmlAttributes = new { @class = "infoBox_doctorQuestionnaire", @placeholder = "Occupation" } })<br>
                                    @Html.EditorFor(model => model.drquestionnaireResults.shiftWorker, new { htmlAttributes = new { @class = "infoBox_doctorQuestionnaire", @placeholder = "Shiftworker" } })

                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>
                                            The type of work a patient does can indicate challenges in his/her live as follow: <br>
                                            o	Stress level<br>
                                            o	Use of medication and testing<br>
                                            o	Diet<br>
                                            o	Traveling extensive hours<br>
                                            o	Level of activity<br>
                                            o	Shift working (prevalence of obesity with nightshift workers is high)<br>
                                            o	Shift working (complicate complex injection routine)<br>
                                            o	Level of education
                                        </li>
                                    </ul>
                                </td>
                            </tr>

                            <!--Lypohypertrophy-->
                            <tr style="background-color: #fff">
                                <td class="socialHistory_Category">
                                    <p>Lypohypertrophy:</p>
                                </td>
                                <td class="diabQuestionnarieRadio" style="text-indent: 10px">
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.lypohypertrophyCheck, true, new { @id = "lypohypertrophyCheck-true", @data_val = "false" }) Yes
                                    @Html.RadioButtonFor(model => model.drquestionnaireResults.lypohypertrophyCheck, false, new { @id = "lypohypertrophyCheck-false", @data_val = "false" }) No
                                </td>
                                <td>
                                    @Html.EditorFor(model => model.drquestionnaireResults.lypohypertrophyDate, new { htmlAttributes = new { @class = "infoBox_doctorQuestionnaire" } })<br>
                                    @Html.EditorFor(model => model.drquestionnaireResults.lypohypertrophy, new { htmlAttributes = new { @class = "infoBox_doctorQuestionnaire", @placeholder = "Location" } })
                                </td>
                                <td>
                                    <ul class="infoBox_doctorQuestionnaire" style="width: 420px">
                                        <li>This is lumps, raised areas, firmness or hardness in the fatty tissue under the skin caused by the repeated injection of insulin in the same areas.</li>
                                        <li>The areas usually have reduced sensation which encourage continues injection in same area.</li>
                                        <li>
                                            Prevent this from happening by:<br>
                                            o	Adequate site rotation<br>
                                            o	Regularly inspect sites for lumps<br>
                                            o	Space injection by 1 finger width

                                        </li>
                                        <li>
                                            Dangers of Lypohypertrophy:<br>
                                            o	unpredictable absorption of insulin<br>
                                            o	higher risk of hypoglycaemia<br>
                                            o	higher dose of insulin<br>
                                            o	ulcers if continue injection in site
                                        </li>
                                    </ul>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                    <br />
                </div>
            </div>
        </div>

    </div>
























</div>


@section Scripts {
    <script src="~/bundles/jqueryval"></script>

    <script>

        $('#treatmentNaïve-true').change(function () {
            if (this.checked)
                $("[name='programHistory.effectiveDate']").attr("required", true);

        });

        $('#treatmentNaïve-false').change(function () {
            if (this.checked)
                $("[name='programHistory.effectiveDate']").attr("required", false);

        });

        //Blurry effect
        $(document).ready(function () {
            $('#hospitalisations_diabetes_NA').change(function () {
                if (this.checked)
                    $('#hospitalisationDiv_Diabetes').addClass('blurry');
                else
                    $('#hospitalisationDiv_Diabetes').removeClass('blurry');

            });
            $('#hospitalisationDDate_diabetes_NA').change(function () {
                if (this.checked)
                    $('#hospitalDiagnosed_Diabetes').addClass('blurry');
                else
                    $('#hospitalDiagnosed_Diabetes').removeClass('blurry');

            });
            $('#comorbids_diabetes_NA').change(function () {
                if (this.checked)
                    $('#comorbidDiv_Diabetes').addClass('blurry');
                else
                    $('#comorbidDiv_Diabetes').removeClass('blurry');

            });
            $('#podiatry_diabetes_NA').change(function () {
                if (this.checked)
                    $('#podiatryDiv_Diabetes').addClass('blurry');
                else
                    $('#podiatryDiv_Diabetes').removeClass('blurry');

            });
            $('#vision_diabetes_NA').change(function () {
                if (this.checked)
                    $('#visionDiv_Diabetes').addClass('blurry');
                else
                    $('#visionDiv_Diabetes').removeClass('blurry');

            });
            $('#other_NA').change(function () {
                if (this.checked)
                    $('#otherDiv_Diabetes').addClass('blurry');
                else
                    $('#otherDiv_Diabetes').removeClass('blurry');

            });
            $('#hypoglycaemia_NA').change(function () {
                if (this.checked)
                    $('#hypoglycaemia_Div_Diabetes').addClass('blurry');
                else
                    $('#hypoglycaemia_Div_Diabetes').removeClass('blurry');

            });
            $('#autoNero_diabetes_NA').change(function () {
                if (this.checked)
                    $('#autoNeroDiv_Diabetes').addClass('blurry');
                else
                    $('#autoNeroDiv_Diabetes').removeClass('blurry');

            });
            //houdiniEffect
            $('#treatmentNaïve-false').change(function () {
                if (this.checked)
                    $('#medicationDate').addClass('houdini');

            });

            $('#treatmentNaïve-true').change(function () {
                if (this.checked)
                    $('#medicationDate').removeClass('houdini').attrprop('required', true);

            });



        });

        //Date picker
        $(function () { // will trigger when the document is ready
            $('.datepicker').datepicker(); //Initialise any date pickers
        });

        $('input[type=checkbox]').removeAttr('checked');

        $(document).ready(function () {
            var dateNewFormat, onlyDate, today = new Date();

            dateNewFormat = today.getFullYear() + '-';
            if (today.getMonth().length == 2) {

                dateNewFormat += (today.getMonth() + 1);
            }
            else {
                dateNewFormat += '0' + (today.getMonth() + 1);
            }

            onlyDate = today.getDate();
            if (onlyDate.toString().length == 2) {

                dateNewFormat += "-" + onlyDate;
            }
            else {
                dateNewFormat += '-0' + onlyDate;
            }

            $('#createDate').val(dateNewFormat);
            $('#modifiedDate').val(dateNewFormat);


        });

        //ajaxPost_arvHistory
        $(document).ready(function () {
            $("#btnSubmit").click(function () {
                var data = $("arvHistory").serialize();

                $.ajax({
                    type: "POST",
                    url: "/Clinical/_InsertARVHistory",
                    data: data,

                })
            })
        })

        //ARV History - Row add
        $(document).ready(function () {
            $("#add_row_diab").on("click", function () {
                // Dynamic Rows Code

                // Get max row id and set new id
                var newid = 0;
                $.each($("#tab_logic_diab tr"), function () {
                    if (parseInt($(this).data("id")) > newid) {
                        newid = parseInt($(this).data("id"));
                    }
                });
                newid++;

                var tr = $("<tr></tr>", {
                    id: "arvHistory_diab" + newid,
                    "data-id": newid
                });

                // loop through each td and create new elements with name of newid
                $.each($("#tab_logic_diab tbody tr:nth(0) td"), function () {
                    var cur_td = $(this);

                    var children = cur_td.children();

                    // add new td and element if it has a name
                    if ($(this).data("name") != undefined) {
                        var td = $("<td></td>", {
                            "data-name": $(cur_td).data("name")
                        });

                        var c = $(cur_td).find($(children[0]).prop('tagName')).clone().val("");
                        c.attr("name", $(cur_td).data("name") + newid);
                        c.appendTo($(td));
                        td.appendTo($(tr));
                    } else {
                        var td = $("<td></td>", {
                            'text': $('#tab_logic_diab tr').length
                        }).appendTo($(tr));
                    }
                });


                // add the new row
                $(tr).appendTo($('#tab_logic_diab'));

                $(tr).find("td button.row-remove").on("click", function () {
                    $(this).closest("tr").remove();
                });
            });


            $("#add_row_diab").trigger("click");
        });

        //coMorbid Conditions - Row add
        $(document).ready(function () {
            $("#add_row_CM_diab").on("click", function () {
                // Dynamic Rows Code

                // Get max row id and set new id
                var newid = 0;
                $.each($("#tab_logic_CM_diab tr"), function () {
                    if (parseInt($(this).data("id")) > newid) {
                        newid = parseInt($(this).data("id"));
                    }
                });
                newid++;

                var tr = $("<tr></tr>", {
                    id: "cmHistory_diab" + newid,
                    "data-id": newid
                });

                // loop through each td and create new elements with name of newid
                $.each($("#tab_logic_CM_diab tbody tr:nth(0) td"), function () {
                    var cur_td = $(this);

                    var children = cur_td.children();

                    // add new td and element if it has a name
                    if ($(this).data("name") != undefined) {
                        var td = $("<td></td>", {
                            "data-name": $(cur_td).data("name")
                        });

                        var c = $(cur_td).find($(children[0]).prop('tagName')).clone().val("");
                        c.attr("name", $(cur_td).data("name") + newid);
                        c.appendTo($(td));
                        td.appendTo($(tr));
                    } else {
                        var td = $("<td></td>", {
                            'text': $('#tab_logic_CM_diab tr').length
                        }).appendTo($(tr));
                    }
                });


                // add the new row
                $(tr).appendTo($('#tab_logic_CM_diab'));

                $(tr).find("td button.row-remove").on("click", function () {
                    $(this).closest("tr").remove();
                });
            });


            $("#add_row_CM_diab").trigger("click");
        });

        //Hospitalisation History - Row add
        $(document).ready(function () {
            $("#add_row_hZ_diab").on("click", function () {
                // Dynamic Rows Code

                // Get max row id and set new id
                var newid = 0;
                $.each($("#tab_logic_hZ_diab tr"), function () {
                    if (parseInt($(this).data("id")) > newid) {
                        newid = parseInt($(this).data("id"));
                    }
                });
                newid++;

                var tr = $("<tr></tr>", {
                    id: "hzHistory_diab" + newid,
                    "data-id": newid
                });

                // loop through each td and create new elements with name of newid
                $.each($("#tab_logic_hZ_diab tbody tr:nth(0) td"), function () {
                    var cur_td = $(this);

                    var children = cur_td.children();

                    // add new td and element if it has a name
                    if ($(this).data("name") != undefined) {
                        var td = $("<td></td>", {
                            "data-name": $(cur_td).data("name")
                        });

                        var c = $(cur_td).find($(children[0]).prop('tagName')).clone().val("");
                        c.attr("name", $(cur_td).data("name") + newid);
                        c.appendTo($(td));
                        td.appendTo($(tr));
                    } else {
                        var td = $("<td></td>", {
                            'text': $('#tab_logic_hZ_diab tr').length
                        }).appendTo($(tr));
                    }
                });


                // add the new row
                $(tr).appendTo($('#tab_logic_hZ_diab'));

                $(tr).find("td button.row-remove").on("click", function () {
                    $(this).closest("tr").remove();
                });
            });


            $("#add_row_hZ_diab").trigger("click");
        });

        //TB From and To dates - Row add
        $(document).ready(function () {
            $("#add_row_tb_diab").on("click", function () {
                // Dynamic Rows Code

                // Get max row id and set new id
                var newid = 0;
                $.each($("#tab_logic_tB_diab tr"), function () {
                    if (parseInt($(this).data("id")) > newid) {
                        newid = parseInt($(this).data("id"));
                    }
                });
                newid++;

                var tr = $("<tr></tr>", {
                    id: "tbHistory_diab" + newid,
                    "data-id": newid
                });

                // loop through each td and create new elements with name of newid
                $.each($("#tab_logic_tB_diab tbody tr:nth(0) td"), function () {
                    var cur_td = $(this);

                    var children = cur_td.children();

                    // add new td and element if it has a name
                    if ($(this).data("name") != undefined) {
                        var td = $("<td></td>", {
                            "data-name": $(cur_td).data("name")
                        });

                        var c = $(cur_td).find($(children[0]).prop('tagName')).clone().val("");
                        c.attr("name", $(cur_td).data("name") + newid);
                        c.appendTo($(td));
                        td.appendTo($(tr));
                    } else {
                        var td = $("<td></td>", {
                            'text': $('#tab_logic_tB_diab tr').length
                        }).appendTo($(tr));
                    }
                });


                // add the new row
                $(tr).appendTo($('#tab_logic_tB_diab'));

                $(tr).find("td button.row-remove").on("click", function () {
                    $(this).closest("tr").remove();
                });
            });


            $("#add_row_tb_diab").trigger("click");
        });

        /*AutoDate*/
        $(document).ready(function () {
            var date = new Date();

            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();

            if (month < 10) month = "0" + month;
            if (day < 10) day = "0" + day;

            var today = year + "-" + month + "-" + day;
            $("#theDateHeight_diab").attr("value", today);
        });

        $(document).ready(function () {
            var date = new Date();

            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();

            if (month < 10) month = "0" + month;
            if (day < 10) day = "0" + day;

            var today = year + "-" + month + "-" + day;
            $("#theDateWeight_diab").attr("value", today);
        });

        $(document).ready(function () {
            var date = new Date();

            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();

            if (month < 10) month = "0" + month;
            if (day < 10) day = "0" + day;

            var today = year + "-" + month + "-" + day;
            $("#theDateBP_diab").attr("value", today);
        });

    </script>

}
